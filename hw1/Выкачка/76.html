<!DOCTYPE html>
<html data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D" lang="ru">
<head>



<title>Terraform: –æ—Ç –Ω–µ–∑–Ω–∞–Ω–∏—è –∫ best practices / –•–∞–±—Ä</title>














































</head>
<body>
<div data-async-called="true" data-server-rendered="true" id="app"><div class="tm-layout__wrapper"><!-- --> <div></div> <div class="tm-feature tm-feature"><!-- --></div> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><div class="tm-header__burger-nav"><button class="tm-header__button tm-header__button_burger" type="button"><svg class="tm-svg-img tm-header__icon tm-header__icon-burger" height="16" width="16"><title>–ú–µ–Ω—é</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#header-burger"></use></svg></button></div> <span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_ru" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>–•–∞–±—Ä</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">Œ≤</span></span> <!-- --> <div class="tm-header-user-menu tm-header_user-menu"><a class="tm-header-user-menu__item tm-header-user-menu__search" href="/ru/search/"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search" height="24" width="24"><title>–ü–æ–∏—Å–∫</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#search"></use></svg></a> <!-- --> <!-- --> <!-- --> <div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="menu-toggle-guest"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_white" height="24" width="24"><title>–ü—Ä–æ—Ñ–∏–ª—å</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#header-user"></use></svg></button> <!-- --></div> <!-- --></div></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <!-- --> <!-- --> <div class="tm-page-width"></div> <main class="tm-layout__container"><div class="tm-page" companyname="nixys" data-async-called="true" hl="ru"><div class="tm-page-width"><div class="tm-page__header"><div class="tm-company-card__branding tm-company-article__branding tm-company-card__branding_loading"><div class="tm-company-card__branding-placeholder"><!-- --></div> <a href="https://nixys.ru/"><img class="tm-company-card__branding-image" src="//habrastorage.org/getpro/habr/branding/b03/c9f/6f2/b03c9f6f2cdfba4ca854b9cea796f4ce.png" width="100%"/></a></div></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><!-- --> <div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__arrow" height="24" width="24"><title>–û–±–Ω–æ–≤–∏—Ç—å</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet tm-article-snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a class="tm-user-info__userpic" href="/ru/users/Vikontrol/" title="Vikontrol"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="32" src="//habrastorage.org/r/w32/getpro/habr/avatars/2bd/0e5/816/2bd0e5816ef084b16cd734f653816391.jpg" width="32"/></div></a> <span class="tm-user-info__user"><a class="tm-user-info__username" href="/ru/users/Vikontrol/">
      Vikontrol
      <!-- --></a> <span class="tm-article-datetime-published"><time datetime="2023-03-10T06:48:50.000Z" title="2023-03-10, 09:48">–≤—á–µ—Ä–∞ –≤ 09:48</time></span></span></span></div> <!-- --></div> <h1 class="tm-article-snippet__title tm-article-snippet__title_h1" lang="ru"><span>Terraform: –æ—Ç –Ω–µ–∑–Ω–∞–Ω–∏—è –∫ best practices</span></h1> <div class="tm-article-snippet__stats"><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#complexity-medium"></use></svg></span> <span class="tm-article-complexity__label">
    –°—Ä–µ–¥–Ω–∏–π
  </span></div> <div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>–í—Ä–µ–º—è –Ω–∞ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#clock"></use></svg></span> <span class="tm-article-reading-time__label">
    47 –º–∏–Ω
  </span></div> <span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.7K</span></span></div> <div class="tm-article-snippet__hubs-container"><div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a class="tm-article-snippet__hubs-item-link router-link-active" href="/ru/company/nixys/blog/"><span>–ë–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–∏ Nixys</span> <!-- --></a></span><span class="tm-article-snippet__hubs-item"><a class="tm-article-snippet__hubs-item-link" href="/ru/hub/it-infrastructure/"><span>IT-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</span> <span class="tm-article-snippet__profiled-hub" title="–ü—Ä–æ—Ñ–∏–ª—å–Ω—ã–π —Ö–∞–±">*</span></a></span><span class="tm-article-snippet__hubs-item"><a class="tm-article-snippet__hubs-item-link" href="/ru/hub/devops/"><span>DevOps</span> <span class="tm-article-snippet__profiled-hub" title="–ü—Ä–æ—Ñ–∏–ª—å–Ω—ã–π —Ö–∞–±">*</span></a></span></div></div> <div class="tm-article-snippet__labels-container"><div class="tm-article-snippet__labels"><div class="tm-article-snippet__label tm-article-snippet__label_variant-tutorial"><span>
          –¢—É—Ç–æ—Ä–∏–∞–ª
        </span></div> </div></div> <!-- --> <!-- --></div></div> <!-- --> <div class="tm-article-body" data-gallery-root="" lang="ru"><div></div> <div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –í–∏–∫—Ç–æ—Ä, —è DevOps‚Äë–∏–Ω–∂–µ–Ω–µ—Ä –∫–æ–º–ø–∞–Ω–∏–∏ <a href="https://nixys.ru/?roistat=habr_article_%20post100323">Nixys</a>, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–≥–∞–µ—Ç –¥—Ä—É–≥–∏–º –∫–æ–º–ø–∞–Ω–∏—è–º –≤–Ω–µ–¥—Ä—è—Ç—å –≤¬†–∏—Ö IT‚Äë—Ä–µ—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥–æ–≤—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ DevOps, MLOps –∏ DevSecOps.</p><p>–°–µ–≥–æ–¥–Ω—è —è –ø—Ä–∏–≥–ª–∞—à–∞—é –≤–∞—Å –≤–º–µ—Å—Ç–µ —Å–æ –º–Ω–æ–π –ø—Ä–æ–π—Ç–∏ –ø—É—Ç—å ¬´–æ—Ç –Ω–µ–∑–Ω–∞–Ω–∏—è –∫¬†best practices¬ª –≤¬†—Ä–∞–±–æ—Ç–µ —Å¬†Terraform. –≠—Ç–æ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è¬†—Å–µ—Ä–∏–∏ –Ω–∞—à–∏—Ö –æ–¥–Ω–æ–∏–º–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ—Ä–æ–ª–∏–∫–æ–≤ –Ω–∞¬†YouTube, –Ω–æ¬†–º—ã —Ä–µ—à–∏–ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç—å –µ–≥–æ –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å –≤–∞–º –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤¬†—ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ.</p><div class="tm-iframe_temp" data-src="https://embedd.srv.habr.com/iframe/640acdbf7a8d27e0261eadb1" data-style="" id="640acdbf7a8d27e0261eadb1" width=""></div><p>–ù–µ¬†–∑–∞–±—ã–≤–∞–π—Ç–µ —Å–ª–µ–¥–∏—Ç—å –∑–∞¬†–Ω–∞—à–∏–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –Ω–∞ <a href="https://www.youtube.com/@nixys8369">YouTube</a>, <a href="https://habr.com/ru/company/nixys/profile/">Habr </a>–∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞¬†–Ω–∞—à Telegram‚Äë–∫–∞–Ω–∞–ª <a href="https://t.me/devops_fm">DevOps FM</a>¬†‚Äî –º—ã –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—ã –Ω–æ–≤—ã–º –¥—Ä—É–∑—å—è–º. –ù–∞—á–Ω—ë–º?</p><h2>–ß–µ–º –º–Ω–µ –ø–æ–º–æ–∂–µ—Ç Terraform? –¢–∞–∫ –ª–∏ –æ–Ω –º–Ω–µ –Ω—É–∂–µ–Ω?</h2><p>–û—Ç–≤–µ—Ç –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–π¬†‚Äî –¥–∞! –ï—Å–ª–∏ —É¬†–≤–∞—à–µ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å¬†—ç—Ç–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ.</p><p>–ü–æ—á–µ–º—É? –í¬†–ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å, Terraform¬†‚Äî —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è. –ê¬†–≤—Å—ë, —á—Ç–æ¬†–º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å, –Ω–∞–¥–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å. –î–∞‚Äë–¥–∞, —Ç–∞–≤—Ç–æ–ª–æ–≥–∏—è, –Ω–æ, –Ω–∞–¥–µ—é—Å—å, —Ç–∞–∫ –ª—É—á—à–µ –∑–∞–∫—Ä–µ–ø–∏—Ç—Å—è –º—ã—Å–ª—å. –í—ã¬†–∂–µ –Ω–µ¬†–∑–∞–¥–∞–µ—Ç–µ—Å—å –≤–æ–ø—Ä–æ—Å–æ–º: ¬´–∞ –∑–∞—á–µ–º –∫–æ–Ω–≤–µ–π–µ—Ä–Ω—ã–µ¬†–ª–∏–Ω–∏–∏ –Ω–∞¬†–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ —Å—Ç–∞–≤—è—Ç¬ª, –≤–µ—Ä–Ω–æ? –í–æ—Ç –∏ –∑–¥–µ—Å—å –ø—Ä–∏–Ω—Ü–∏–ø —Ç–æ—Ç¬†–∂–µ. –î–∞, –≤–∞–º –Ω—É–∂–µ–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä —ç—Ç–æ–π¬†–ª–∏–Ω–∏–∏ (–≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —Ç–æ–ª–∫–æ–≤—ã–π DevOps‚Äë–∏–Ω–∂–µ–Ω–µ—Ä —Å¬†–Ω—É–∂–Ω—ã–º–∏ —Å–∫–∏–ª–ª–∞–º–∏), –Ω–æ¬†–ø—Ä–æ—Å—Ç–æ –≤–¥—É–º–∞–π—Ç–µ—Å—å, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º –≤—ã —ç—Ç–∏–º —Ä–µ—à–∞–µ—Ç–µ!</p><ul><li><p><strong>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–≥–∏—Ö —Ä—É—Ç–∏–Ω–Ω—ã—Ö –∑–∞–¥–∞—á</strong>. –ù–∞–≤–µ—Ä–Ω—è–∫–∞ –ø–µ—Ä–µ–¥ –≤–∞–º–∏ –∫–æ–≥–¥–∞‚Äë—Ç–æ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞, —á—Ç–æ¬†–Ω—É–∂–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ä–µ–¥ –¥–ª—è¬†—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–≤–æ–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞, —Ç–∞–∫ –∫–∞–∫¬†–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —É¬†–≤–∞—Å 20¬†—Ä–∞–∑—Ä–∞–±–æ–≤ —Å—Ä–∞–∂–∞—é—Ç—Å—è –∑–∞¬†—Ç–æ, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–≤–æ–π –∫–æ–¥ –Ω–∞¬†–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∞ –≤¬†–±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å–ª—É—á–∞–µ–≤ –æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –±—É–¥—É—Ç –∂–¥–∞—Ç—å –ø–æ–∫–∞ –ø–æ–¥¬†–Ω–∏—Ö –Ω–µ¬†–Ω–∞—Å—Ç—Ä–æ—è—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ). –í—ã¬†–∂–µ –≤¬†—ç—Ç–æ –≤—Ä–µ–º—è –ø–æ–ª—É—á–∞–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ–π –≤¬†—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –Ω–µ–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞¬†—Ä—ã–Ω–∫–µ –∏¬†—Ç.¬†–¥. –∏¬†—Ç.¬†–ø. –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ¬†–≤–∞—Å, —Ç–æ–≥–¥–∞ –≤–∞–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ –Ω—É–∂–µ–Ω Terraform, –≤–µ–¥—å –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã¬†‚Äî —Ç–∞–∫–∏—Ö, –∫–∞–∫¬†—Å–µ—Ä–≤–µ—Ä—ã, —Å–µ—Ç–∏, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –ò –≤—É–∞–ª—è¬†‚Äî –≤–∞–º –Ω–µ¬†–Ω—É–∂–Ω–æ —Ç—Ä–∞—Ç–∏—Ç—å –∫—É—á—É –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞¬†–Ω–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ. </p></li><li><p><strong>–°–Ω–∏–∂–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞</strong>. –£¬†–≤–∞—Å¬†–±—ã–ª–æ —Ç–∞–∫–æ–µ, —á—Ç–æ¬†–≤¬†–ø—Ä–æ—Ü–µ—Å—Å–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞, –≤–æ–∑–Ω–∏–∫–∞–ª–∏ –æ—à–∏–±–∫–∏ –ø–æ¬†–≤–∏–Ω–µ —á–µ–ª–æ–≤–µ–∫–∞? –≠—Ç–æ –º–æ–∂–µ—Ç¬†–±—ã—Ç—å —á—Ç–æ¬†—É–≥–æ–¥–Ω–æ: –æ–ø–µ—á–∞—Ç–∫–∞ –≤¬†–Ω–∞–∑–≤–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–∏¬†–æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫¬†–Ω–µ–º—É, –∏–ª–∏¬†–∂–µ –ø—Ä–æ—Å—Ç–æ –∫—Ç–æ‚Äë—Ç–æ –º–æ–≥ –ø–æ—Ç–æ—Ä–æ–ø–∏—Ç—å—Å—è, –º–∏—Å–∫–ª–∏–∫–Ω—É—Ç—å –∏ —Å–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏—Ç—å –Ω–µ¬†—Ç—É –º–∞—à–∏–Ω—É. –í–æ—Ç 100% —á—Ç–æ¬†–±—ã–ª–æ, –≤—Å–µ –º—ã –ª—é–¥–∏. –¢–æ–≥–¥–∞ –æ–ø–∏—à–∏—Ç–µ —Å–≤–æ—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–æ–º, –≤—ã —Å–Ω–∏–∑–∏—Ç–µ —à–∞–Ω—Å –ø–æ–¥–æ–±–Ω–æ–≥–æ –∫¬†–º–∏–Ω–∏–º—É–º—É. –ù–µ¬†–¥–æ¬†–Ω—É–ª—è, –Ω–µ—Ç, –Ω–æ¬†–Ω–∞¬†–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ä—è–¥–∫–æ–≤ –º–µ–Ω—å—à–µ¬†‚Äî —ç—Ç–æ —Ñ–∞–∫—Ç.</p></li><li><p><strong>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</strong>. –û—Ö, –∫–æ–≥–¥–∞‚Äë–Ω–∏–±—É–¥—å —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å¬†—Ç–µ–º, —á—Ç–æ¬†–Ω–∞¬†—Ä–∞–±–æ—á–µ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–æ—Ñ—Ç? –ò –ª–∞–¥–Ω–æ –µ—Å–ª–∏ —ç—Ç–æ —á—Ç–æ‚Äë—Ç–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ, –∞¬†–≤–¥—Ä—É–≥ –Ω–∞–¥–æ –ø—Ä—è–º –∫—É–± –æ–±–Ω–æ–≤–ª—è—Ç—å, –¥–∞¬†–µ—â—ë —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞–∂–æ—Ä–Ω—ã—Ö –≤–µ—Ä—Å–∏–π? –í¬†–æ–±—â–µ–º, Terraform –∏ —Ç—É—Ç –ø–æ–º–æ–∂–µ—Ç: –ø–æ—Ç—Ä–∞—Ç—å—Ç–µ –≤—Ä–µ–º—è –Ω–∞¬†–æ–ø–∏—Å–∞–Ω–∏–µ —Å–≤–æ–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤¬†–∫–æ–¥–µ –∏ –≤—ã –∑–∞–±—É–¥–µ—Ç–µ —ç—Ç—É –±–æ–ª—å. –≠—Ç–æ –Ω–µ¬†—Å–Ω–∏–º–µ—Ç —Å¬†–≤–∞—Å –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–º–∞—Ç—å –≤—Å–µ –Ω—é–∞–Ω—Å—ã. –ù–æ¬†–≤–æ‚Äë–ø–µ—Ä–≤—ã—Ö, Terraform –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞—Å –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º, –∏ —Å¬†—Ç–∞–∫–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–µ–π –ª–µ–≥—á–µ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è, –∞¬†–≤–æ‚Äë–≤—Ç–æ—Ä—ã—Ö¬†‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã, –∏ –≤—ã –ø–æ–¥–Ω—è–ª–∏ <strong>–ø–æ–ª–Ω—ã–π</strong> –∫–ª–æ–Ω —Å–≤–æ–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã¬†‚Äî –º–æ–∂–µ—Ç–µ —Ç–∞–º –ª–æ–º–∞—Ç—å, –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å, –ø–µ—Ä–µ–¥–µ–ª—ã–≤–∞—Ç—å –≤—Å—ë, —á—Ç–æ¬†–≤–∞—à–µ–π –¥—É—à–µ —É–≥–æ–¥–Ω–æ. –ò –µ—Å–ª–∏ —É¬†–≤–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å—Å—è, —Å¬†–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é, –∫—Ä–∞–π–Ω–µ –±–ª–∏–∑–∫–æ–π –∫ 100%, –≤—ã –±–µ–∑¬†–ø—Ä–æ–±–ª–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ –∏ —Å–≤–æ–π –ø—Ä–æ–¥.</p></li><li><p><strong>–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è</strong>. –ï—Å–ª–∏ —É¬†–≤–∞—Å –∫–æ–º–∞–Ω–¥–∞ –∏–∑¬†–¥–≤—É—Ö –∏ –±–æ–ª–µ–µ —á–µ–ª–æ–≤–µ–∫, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —Ç–æ –≤—ã –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å—Ç–∞–ª–∫–∏–≤–∞–ª–∏—Å—å —Å¬†—Ç–µ–º, —á—Ç–æ¬†–æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ‚Äë—Ä–∞–∑–Ω–æ–º—É. –î–∞¬†–µ—Å—Ç—å –Ω–æ—Ä–º—ã, –Ω–æ¬†–æ–Ω–∏ —Ä–∞–∑–Ω—è—Ç—Å—è –æ—Ç¬†–∫–æ–º–ø–∞–Ω–∏–∏ –∫¬†–∫–æ–º–ø–∞–Ω–∏–∏, –∏ –≤¬†—Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã –≤—Å—ë –Ω–µ¬†–∑–∞—Ç–æ–ª–∫–∞–µ—à—å, –∏ –ø–æ¬†–∏—Ç–æ–≥—É –ø–æ–ª—É—á–∞–µ—Ç–µ –≤—Ä–æ–¥–µ¬†–±—ã –æ–¥–Ω—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–æ¬†—á–∞—Å—Ç—å –ø–æ–¥–Ω—è—Ç–∞ –æ–¥–Ω–∏–º —Å–ø–æ—Å–æ–±–æ–º, —á–∞—Å—Ç—å¬†‚Äî –¥—Ä—É–≥–∏–º. –≠—Ç–æ –º–æ–∂–µ—Ç¬†–±—ã—Ç—å —á—Ç–æ¬†—É–≥–æ–¥–Ω–æ¬†‚Äî –æ—Ç¬†–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–º—ë–Ω —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ¬†–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –û–° –¥–ª—è¬†–æ–¥–Ω–æ—Ç–∏–ø–Ω—ã—Ö —Ö–æ—Å—Ç–æ–≤. –°¬†Terraform –≤—ã —ç—Ç–æ —Ä–µ—à–∞–µ—Ç–µ, —Ç–∞–∫ –∏–ª–∏¬†–∏–Ω–∞—á–µ. –î–∞–∂–µ –µ—Å–ª–∏ —É¬†–≤–∞—Å –Ω–µ—Ç —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞ –∫¬†–Ω–∞–ø–∏—Å–∞–Ω–∏—é –∫–æ–¥–∞, –≤—Å—ë —É—Å—Ç—Ä–æ–µ–Ω–æ —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ¬†–∏–Ω–∂–µ–Ω–µ—Ä–∞–º –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏–¥—ë—Ç—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ¬†–æ–¥–Ω–æ–º—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É.</p></li><li><p><strong>–û—á–µ–≤–∏–¥–Ω–æ—Å—Ç—å</strong>. –ù–∞–Ω–∏–º–∞–ª–∏ –Ω–æ–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞? –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –µ–º—É –Ω—É–∂–Ω–æ –Ω–∞¬†—Ç–æ, —á—Ç–æ–±—ã –≤–ª–∏—Ç—å—Å—è –≤¬†—Ä–∞–±–æ—Ç—É? –°¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–Ω—è—Ç–∞ —Ä—É–∫–∞–º–∏, –≤—Å—ë –µ—â—ë —Å–ª–æ–∂–Ω–µ–µ¬†‚Äî —Ç–∞–º –º–æ–∂–µ—Ç¬†–±—ã—Ç—å —Å—Ç–æ–ª—å–∫–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã—Ö –≤–µ—â–µ–π, —á—Ç–æ¬†–æ–±–Ω–∞—Ä—É–∂–∏—Ç—å –∏—Ö –º–æ–∂–Ω–æ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —á—Ç–æ‚Äë—Ç–æ —É–∂–µ —Å–ª–æ–º–∞–ª–æ—Å—å, –∏ –∏–Ω–∂–µ–Ω–µ—Ä—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–æ—Å–æ–º –∑–µ–º–ª—é —Ä—ã—Ç—å –≤¬†–ø–æ–∏—Å–∫–∞—Ö –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–∏. –ï—Å–ª–∏ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –≤—Å—ë —Å¬†–ø–æ–º–æ—â—å—é –∫–æ–¥–∞, —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ¬†–±–æ–ª—å—à–µ –Ω–µ—Ç –∫—É—á–∏ –º–µ—Å—Ç, –≥–¥–µ –º–æ–∂–µ—Ç¬†–±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Ç–æ—Ç –∏–ª–∏¬†–∏–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª¬†‚Äî –≤—Å—ë –∑–¥–µ—Å—å, –≤¬†–º–∞–Ω–∏—Ñ–µ—Å—Ç–∞—Ö. –î–∞, –æ–Ω–∏ –º–æ–≥—É—Ç¬†–±—ã—Ç—å —Å–ª–æ–∂–Ω—ã –∏ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã, –Ω–æ, –ø–æ¬†–∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, —ç—Ç–æ –Ω–µ¬†–∫–∞–∫–æ–π‚Äë–Ω–∏–±—É–¥—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π cron –Ω–∞ 101-–º —Å–µ—Ä–≤–µ—Ä–µ —Ö–æ–¥–∏—Ç –≤¬†–ø—Ä–æ–¥ –∏ –∑–∞–±–∏–≤–∞–µ—Ç –≤–µ—Å—å –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π¬†‚Äî –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, —Ç–æ –æ–ø–∏—Å–∞–Ω –≤¬†–∫–æ–¥–µ, –∏ –º—ã –∑–Ω–∞–µ–º –≥–¥–µ –µ–≥–æ –∏—Å–∫–∞—Ç—å. –ï—Å—Ç—å –æ–¥–∏–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫¬†‚Äî —ç—Ç–æ –∫–æ–¥: –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å¬†–Ω–∏–º, –∑–Ω–∞—á–∏—Ç –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å–æ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.</p></li><li><p><strong>–†–∞–±–æ—Ç–∞ –≤¬†–∫–æ–º–∞–Ω–¥–µ</strong>. –ó–¥–µ—Å—å –≤—Å—ë –ø—Ä–æ—Å—Ç–æ¬†‚Äî —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π. –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–¥, –º—ã –∏ —Ä–∞–±–æ—Ç–∞–µ–º —Å¬†–Ω–∏–º, –∫–∞–∫¬†—Å¬†–∫–æ–¥–æ–º. –ó–∞–ª–∏–≤–∞–µ–º –µ–≥–æ –≤¬†GitHub, GitLab –∏–ª–∏¬†–≥–¥–µ –≤—ã –ø—Ä–∏–≤—ã–∫–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å¬†‚Äî –∏ –≤—Å—ë, –º—ã –æ–±–µ—Å–ø–µ—á–∏–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è¬†–Ω–æ—Ä–º–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤¬†–∫–æ–º–∞–Ω–¥–µ. –ï—Å–ª–∏ —É¬†–≤–∞—Å –≤—Å—ë —Ä—É–∫–∞–º–∏ –ø–æ–¥–Ω–∏–º–∞–ª–æ—Å—å, –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ¬†—Ç–∞–∫–∏–µ –ø–ª—é—à–∫–∏.</p></li></ul><p>–í¬†—Ü–µ–ª–æ–º, Terraform¬†‚Äî —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–µ—à–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–±–ª–µ–º –∫–∞–∫¬†IT‚Äë–æ—Ç–¥–µ–ª–∞ –≤¬†—á–∞—Å—Ç–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –±–∏–∑–Ω–µ—Å–∞ –≤¬†—Ü–µ–ª–æ–º.</p><h2>–¢–µ–ø–µ—Ä—å –ø–æ–≤—Ç–æ—Ä–∏–º –æ—Å–Ω–æ–≤—ã</h2><p>Terraform¬†‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤¬†–≤–∏–¥–µ –∫–æ–¥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ—ë —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —É–¥–∞–ª–µ–Ω–∏–µ. –û–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤¬†‚Äî —Ç–∞–∫–∏—Ö, –∫–∞–∫¬†AWS, Google Cloud, Azure, Yandex Cloud –∏ –¥—Ä—É–≥–∏—Ö.</p><p>–û–¥–Ω–∏–º –∏–∑¬†–æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ Terraform —è–≤–ª—è–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–∏—Å–∞—Ç—å¬†–∂–µ–ª–∞–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤¬†–≤–∏–¥–µ –∫–æ–¥–∞, –∏ –∑–∞—Ç–µ–º –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–≤–æ–¥–∏—Ç –µ—ë –≤¬†—ç—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∞¬†–≤—ã –Ω–µ¬†–∑–∞–±–æ—Ç–∏—Ç–µ—Å—å –æ¬†—Ä—É—á–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –∫–∞–∂–¥—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.</p><p>–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å¬†—ç—Ç–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º, –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏¬†‚Äî —Ç–∞–∫–∏–µ, –∫–∞–∫¬†–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –∫–æ–º–∞–Ω–¥—ã. –î–∞–ª–µ–µ –≤¬†—Å—Ç–∞—Ç—å–µ –º—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∏—Ö, –∞¬†—Ç–∞–∫–∂–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã —Å¬†Terraform. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —è —Ä–∞—Å—Å–∫–∞–∂—É –ø—Ä–æ¬†best practices, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –∫–æ–¥.</p><p>–ò—Ç–∞–∫, Terraform –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∫–æ—Ç–æ—Ä—É—é –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∏–ª–∏¬†—É–ø—Ä–∞–≤–ª—è—Ç—å. –ú–∞–Ω–∏—Ñ–µ—Å—Ç—ã Terraform¬†‚Äî —ç—Ç–æ —Ñ–∞–π–ª—ã —Å¬†—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º.tf, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –î–ª—è¬†–æ–ø–∏—Å–∞–Ω–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HashiCorp Configuration Language (HCL). HCL —è–≤–ª—è–µ—Ç—Å—è —É–¥–æ–±–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º —è–∑—ã–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –Ω–∏–º–∏ –∏ —É–∫–∞–∑—ã–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∞—Ç—Ä–∏–±—É—Ç–æ–≤.</p><p>–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫¬†–º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã, Terraform –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –¥–ª—è¬†—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏ –≤¬†–ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, —É–ª—É—á—à–∞—Ç—å –µ–µ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–Ω–∏–∂–∞—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è —Ä—É—á–Ω—ã—Ö –æ—à–∏–±–æ–∫.</p><p>Terraform –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –¥–ª—è¬†–æ–ø–∏—Å–∞–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã:</p><ol><li><p>Providers: –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã¬†‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è¬†–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å¬†—Ä–µ—Å—É—Ä—Å–∞–º–∏, —Ç–∞–∫–∏–º–∏, –∫–∞–∫¬†AWS, Google Cloud, Microsoft Azure –∏¬†—Ç.¬†–¥.</p></li></ol><ol start="2"><li><p>Resources: —Ä–µ—Å—É—Ä—Å—ã¬†‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å –∏–ª–∏¬†–∏–∑–º–µ–Ω–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –º–∞—à–∏–Ω–∞, –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö.</p></li></ol><ol start="3"><li><p>Variables: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ¬†‚Äî —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤¬†Terraform –¥–ª—è¬†–∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.</p></li></ol><ol start="4"><li><p>Data Sources: –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö¬†‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç Terraform –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑¬†–≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫¬†API, –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏¬†–¥—Ä—É–≥–∏–µ —Å–ª—É–∂–±—ã.</p></li></ol><ol start="5"><li><p>Outputs: –≤—ã–≤–æ–¥—ã¬†‚Äî —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ Terraform –≤—ã–¥–∞–µ—Ç –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, IP‚Äë–∞–¥—Ä–µ—Å–∞, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –∏¬†—Ç.¬†–¥.</p></li></ol><p>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã Terraform, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç —É–ø–æ–º—è–Ω—É—Ç—å:</p><ol><li><p>–ú–æ–¥—É–ª–∏. –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥ –∏ —É–ø—Ä–æ—â–∞—é—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã–º–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.</p></li></ol><ol start="2"><li><p>–í–∞—Ä–∏–∞–Ω—Ç—ã –æ–∫—Ä—É–∂–µ–Ω–∏—è. Terraform –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è.</p></li></ol><ol start="3"><li><p>–í—ã—Ä–∞–∂–µ–Ω–∏—è. Terraform –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ª–æ–≤–∏–π.</p></li></ol><p>–ò—Ç–∞–∫, –º—ã –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ¬†—Å¬†–ø–æ–º–æ—â—å—é Terraform –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤¬†–∫–æ–¥–µ, —ç—Ç–æ—Ç –∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è –≤¬†—Ñ–∞–π–ª–∞—Ö, —á—Ç–æ¬†–ª–æ–≥–∏—á–Ω–æüôÇ, —Ç–∞–∫ –¥–∞–≤–∞–π—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º —Å¬†–≤–∞–º–∏ –æ¬†–Ω–∏—Ö.</p><p>–û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã —Ñ–∞–π–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤¬†Terraform, –≤–∫–ª—é—á–∞—é—Ç –≤¬†—Å–µ–±—è:</p><ol><li><p>–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.tf —Ñ–∞–π–ª—ã)¬†‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã Terraform, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –∏–ª–∏¬†—É–ø—Ä–∞–≤–ª—è—Ç—å.</p></li></ol><ol start="2"><li><p>–§–∞–π–ª—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (.tfvars —Ñ–∞–π–ª—ã)¬†‚Äî —ç—Ç–æ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö—Å—è –≤¬†—Ñ–∞–π–ª–∞—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.</p></li></ol><p>–§–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è (.tfstate —Ñ–∞–π–ª): —ç—Ç–æ —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã. –û–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ apply (–∫–æ–Ω–µ—á–Ω–æ, –µ—Å–ª–∏ –≤—ã —á—Ç–æ‚Äë—Ç–æ –∏–∑–º–µ–Ω–∏–ª–∏ –≤¬†–∫–æ–¥–µ).</p><p>–¢–∞–∫–∂–µ, —Å—Ç–æ–∏—Ç –æ—Ç–¥–µ–ª—å–Ω–æ —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –ø—Ä–æ¬†—Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è ‚Äë.tfstate. Terraform —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ¬†—Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤¬†—Ñ–∞–π–ª–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ¬†—Ä–µ—Å—É—Ä—Å–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ¬†–±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –≤¬†–≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –∏ –∏—Ö —Ç–µ–∫—É—â–∏—Ö —Å–≤–æ–π—Å—Ç–≤–∞—Ö.</p><p>Terraform –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∫–∞–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å, –∫–∞–∫–∏–µ —Å–æ–∑–¥–∞—Ç—å, –∞¬†–∫–∞–∫–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å, –∫–æ–≥–¥–∞ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –∫–æ–º–∞–Ω–¥—É apply. –ì—Ä—É–±–æ –≥–æ–≤–æ—Ä—è, –æ–Ω –ø–æ–º–æ–≥–∞–µ—Ç Terraform –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å, –∫–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –≤¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É, —á—Ç–æ–±—ã –µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –≤¬†–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.</p><p>–§–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏¬†—É–¥–∞–ª–µ–Ω–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤¬†–æ–±—ä–µ–∫—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º —Ö—Ä–∞–Ω–∏—Ç—å –æ–±—â—É—é –∫–æ–ø–∏—é —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º —Å¬†–Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö–æ—Å—Ç–æ–≤.</p><p>–í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ¬†—Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω—ã–º –∞—Å–ø–µ–∫—Ç–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π, –ø–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –µ–≥–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –Ω–∞¬†–≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã —Å¬†–Ω–∏–º.</p><p>–¢–∞–∫–∂–µ, –Ω—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ¬†—Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º, –∏ –µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤¬†–±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ, —Ç–∞–∫ –∫–∞–∫¬†–æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ¬†–≤—Å–µ–π –≤–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ.</p><p>–ö—Ä–æ–º–µ –≤—Å–µ–≥–æ —ç—Ç–æ–≥–æ, —Ö–æ—á—É —É–ø–æ–º—è–Ω—É—Ç—å, —á—Ç–æ¬†–µ—Å–ª–∏ –≤–∞–º –ø—Ä–∏—à–ª–æ—Å—å –≤—Ä—É—á–Ω—É—é –∑–∞–ª–µ–∑—Ç—å –≤¬†tfstate‚Äë—Ñ–∞–π–ª, —Ç–æ, –∫–∞–∫¬†–≥–æ–≤–æ—Ä–∏—Ç –º–æ–π –∫–æ–ª–ª–µ–≥–∞: ¬´–í—ã –≥–¥–µ‚Äë—Ç–æ —á—Ç–æ‚Äë—Ç–æ —Å–¥–µ–ª–∞–ª–∏ –Ω–µ¬†—Ç–∞–∫ –≤¬†—ç—Ç–æ–π –∂–∏–∑–Ω–∏¬ª üôÇ</p><p>–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ–≥–æ–≤–æ—Ä–∏–º —Å¬†–≤–∞–º–∏ –æ¬†—Ç–æ–º, –Ω–∞¬†–∫–∞–∫–∏–µ best practices —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ:</p><ol><li><p>–ù–µ¬†—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤¬†–æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, —Ä–∞–∑–±–µ–π—Ç–µ –µ—ë –Ω–∞¬†—á–∞—Å—Ç–∏;</p></li></ol><ol start="2"><li><p>–ò–∑–æ–ª–∏—Ä—É–π—Ç–µ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥—Ä—É–≥ –æ—Ç¬†–¥—Ä—É–≥–∞. –†–∞–∑–¥–µ–ª—è–π—Ç–µ –ª–æ–≥–∏—á–µ—Å–∫–∏ —Å–≤–æ—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É, —Å–µ—Ç—å, —Å–µ—Ä–≤–∏—Å—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏¬†—Ç.¬†–¥.;</p></li></ol><ol start="3"><li><p>–ù–µ¬†—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ;</p></li></ol><ol start="4"><li><p>–ë–ª–æ–∫–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏¬†—Ä–∞–±–æ—Ç–µ;</p></li></ol><ol start="5"><li><p>–ü–∏—à–∏—Ç–µ –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –µ–≥–æ –º–æ–∂–Ω–æ¬†–±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤¬†–¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª–∏.</p></li></ol><ol start="6"><li><p>–ü–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏¬†‚Äî —É–¥–æ–±–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è¬†—É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.</p></li></ol><ol start="7"><li><p>–ü–∏—à–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é, –æ–Ω–∞ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–≥–æ–¥–∏—Ç—Å—è.</p></li></ol><h2>–ß—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ç–æ–º, —á—Ç–æ –º—ã –∑–¥–µ—Å—å –ø–µ—Ä–µ—á–∏—Å–ª–∏–ª–∏</h2><p>–ö–æ–≥–¥–∞ –≤—ã –ø–∏—à–∏—Ç–µ –∫–æ–¥ —Å–≤–æ–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ, –∫ –ø—Ä–∏–º–µ—Ä—É –≤ —Ñ–∞–π–ª–µ main.tf:</p><pre></pre><p>–í –Ω—ë–º –±—É–¥–µ—Ç –≤—Å—ë, –∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, –∏ —Ä–µ—Å—É—Ä—Å—ã, –∏ data sources, –∏ outputs:¬†</p><pre></pre><p>Terraform —ç—Ç–æ ¬´–ø—Ä–æ–∂—É—ë—Ç¬ª –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç –∫–æ–¥. –í—Å—ë¬†–±—ã –Ω–∏—á–µ–≥–æ, –µ—Å–ª–∏ –≤—ã –æ–ø–∏—Å–∞–ª–∏ –æ–¥–∏–Ω —Ä–µ—Å—É—Ä—Å, –Ω–æ¬†–∏—Ö –º–æ–∂–µ—Ç¬†–±—ã—Ç—å –¥–≤–∞, –∞¬†–º–æ–∂–µ—Ç –∏ –ø–∞—Ä—É –¥–µ—Å—è—Ç–∫–æ–≤. –í¬†—Ç–∞–∫–æ–º —Ñ–∞–π–ª–µ –±—É–¥–µ—Ç —É–∂–µ —Å–ª–æ–∂–Ω–µ–µ —Ä–∞–∑–±–∏—Ä–∞—Ç—å—Å—è –∏ –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.</p><p>–•–æ—Ä–æ—à–æ, –º—ã –º–æ–∂–µ–º –ø–æ–¥¬†–∫–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä gitlab.tf, mongodb.tf, rebbitmq.tf –∏¬†—Ç.¬†–¥.:</p><pre></pre><p>–£–∂–µ –ª—É—á—à–µ, —Ç–µ–ø–µ—Ä—å –º—ã –∑–Ω–∞–µ–º –≤¬†–∫–∞–∫–æ–º —Ñ–∞–π–ª–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–ª–∏¬†–¥–æ–ø–∏—Å–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä. –ù–æ¬†–≤–æ–∑–Ω–∏–∫–∞–µ—Ç –µ—â—ë –æ–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞¬†‚Äî Terraform –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤¬†—Ä–∞–±–æ—á–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ –∫–∞–∫¬†–æ–¥–∏–Ω, –∞¬†—ç—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ¬†–∏ –ø—Ä–∏¬†–∑–∞–ø—É—Å–∫–µ plan –∏–ª–∏¬†apply –æ–Ω –ø–æ–π–¥—ë—Ç –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å—é –≤–∞—à—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É. –≠—Ç–æ –¥–æ–ª–≥–æ –∏ –Ω–∏–∫–æ–º—É –Ω–µ¬†–Ω—É–∂–Ω–æ. –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è¬†–∫–ª–∞—Å—Ç–µ—Ä–∞ k8s, –µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–æ—Å–∏–ª–∏—Å—å –≤¬†–ø–æ–¥—Å–µ—Ç—å. –ö–∞–∫–æ–π —Ç–æ–≥–¥–∞ –≤—ã—Ö–æ–¥? –í—Å—ë –ø—Ä–æ—Å—Ç–æ, –º—ã —Å–æ–∑–¥–∞–¥–∏–º –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ –ø–æ–¥¬†–∫–∞–∂–¥—ã–π —Ä–µ—Å—É—Ä—Å –∏–ª–∏¬†—Å–≤—è–∑–∞–Ω–Ω—É—é –ª–æ–≥–∏—á–µ—Å–∫–∏ –≥—Ä—É–ø–ø—É —Ä–µ—Å—É—Ä—Å–æ–≤:</p><pre></pre><p>–¢–µ–ø–µ—Ä—å —É¬†–Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ Terraform, –∫–∞–∂–¥—ã–π –∏–∑¬†–∫–æ—Ç–æ—Ä—ã—Ö –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–≤–æ—é —á–∞—Å—Ç—å –æ–±—â–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –Ω–æ¬†–≤—Å—ë¬†–∂–µ —É¬†–Ω–∞—Å –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–∞ —Å¬†—Ç–µ–º, —á—Ç–æ¬†–≤—Å—ë —Å–≤–∞–ª–µ–Ω–æ –≤¬†–æ–¥–Ω—É –∫—É—á—É. –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ¬†–∂–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ k8s –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ, –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤¬†–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ —Å–æ–≤—Å–µ–º –Ω–µ¬†—É–¥–æ–±–Ω–æ. –†–µ—à–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–µ¬†‚Äî –º—ã —Ä–∞–∑–±–∏–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ¬†—Ç–∏–ø—É –æ–ø–∏—Å—ã–≤–∞–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç.¬†–µ. –µ—Å—Ç—å –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª main.tf, –≥–¥–µ –º—ã –æ–±—ä—è–≤–∏–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –ø—Ä–æ–ø–∏—à–µ–º –¥–æ—Å—Ç—É–ø—ã –∫¬†–æ–±–ª–∞–∫—É. –î–∞–ª–µ–µ, –º—ã –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏–º –∫–æ–¥ –≤¬†–æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã. –í—ã–≥–ª—è–¥–∏—Ç —ç—Ç–æ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</p><pre></pre><p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –∏ —Ä–∞–∑–¥–µ–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ª–æ–≥–∏—á–µ—Å–∫–∏ –∏ —Å –ª–µ–≥–∫–æ—Å—Ç—å—é —Ä–∞–∑–±–µ—Ä–µ–º—Å—è –≤ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ, –µ—Å–ª–∏ –≤–∏–¥–∏–º –µ—ë –≤–ø–µ—Ä–≤—ã–µ.</p><p>–ö–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å –µ—â—ë –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–π, –Ω–æ –∏–Ω–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–ª—å—à–µ)</p><h2>–ü–æ–¥–Ω–∏–º–∞–µ–º –∫–ª–∞—Å—Ç–µ—Ä</h2><p>–ò—Ç–∞–∫, —Ç–µ–ø–µ—Ä—å –º—ã –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–Ω–∏–º–∞–µ–º, —á—Ç–æ –∫ —á–µ–º—É, –∏ –∫–∞–∫ –Ω–∞–º –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –Ω–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –î–∞–≤–∞–π—Ç–µ —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫ –¥–µ–ª—É –∏ –Ω–∞—á–Ω—ë–º —Å–æ–∑–¥–∞–Ω–∏–µ –º–µ–∂—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ kubernetes —Å –∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–æ–º worker-–Ω–æ–¥ —Å –ø–æ–º–æ—â—å—é Terraform –≤ Yandex Cloud. –í —ç—Ç–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ –º—ã –ø–æ–¥–Ω–∏–º–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º kube-prometheus-stack.</p><p>–ß–∞—Å—Ç–∏ –ø—Ä–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É <a href="https://developer.hashicorp.com/terraform/tutorials/aws-get-started/install-cli">Terraform </a>–∏ <a href="https://cloud.yandex.ru/docs/cli/operations/install-cli">yc </a>(–∫–æ–Ω—Å–æ–ª—å–Ω–æ–π —É—Ç–∏–ª–∏—Ç—ã Yandex Cloud) —è —Å–Ω–æ–≤–∞ –ø—Ä–æ–ø—É—Å–∫–∞—é, –≤—ã –º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –ø—Ä–∏–≤–µ–¥—ë–Ω–Ω—ã–º —Å—Å—ã–ª–∫–∞–º.¬†</p><p>–¢–∞–∫–∂–µ —è –Ω–µ –±—É–¥—É –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±–ª–∞–∫—É, –æ–± —ç—Ç–æ–º —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ä–æ–ª–∏–∫–µ ‚Äì <a href="https://www.youtube.com/watch?v=q12v5mbMnco&amp;embeds_euri=https%3A%2F%2Fembedd.srv.habr.com%2F&amp;feature=emb_imp_woyt"><em><u>DevOps —Å Nixys | –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Terraform - Tutorial –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö #1</u></em></a><em>.</em></p><p>–ù–∞—á–Ω—ë–º –º—ã, –∫–∞–∫ —ç—Ç–æ –≤–æ–¥–∏—Ç—Å—è, —Å <a href="https://cloud.yandex.ru/docs/managed-kubernetes/operations/kubernetes-cluster/kubernetes-cluster-create">–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</a>. –°–æ–≥–ª–∞—Å–Ω–æ –µ–π, –∫–æ–¥ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –º–µ–∂—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p><details class="spoiler"><summary>main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ê —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –µ—â—ë –∏ –≥—Ä—É–ø–ø—ã —É–∑–ª–æ–≤, –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–æ–≤—ã–π —Ä–µ—Å—É—Ä—Å:</p><details class="spoiler"><summary>main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–≠—Ç–æ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ <a href="https://cloud.yandex.ru/docs/managed-kubernetes/operations/node-group/node-group-create">–Ø–Ω–¥–µ–∫—Å–∞</a> + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ <a href="https://registry.tfpla.net/providers/yandex-cloud/yandex/latest/docs/resources/kubernetes_node_group">Terraform</a>.</p><p>–ï—Å–ª–∏ —Ö–æ—Ç–∏–º –±–æ–ª—å—à–µ –≥—Ä—É–ø–ø¬†‚Äî –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –ø–æ¬†–æ–¥–Ω–æ–π –≤¬†–∫–∞–∂–¥–æ–π –∑–æ–Ω–µ –∏ –≤¬†–∫–æ–Ω–µ—á–Ω–æ–º –∏—Ç–æ–≥–µ, —Å¬†–æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –º—ã –ø–æ–ª—É—á–∏–º —Ç–∞–∫—É—é –∫–∞—Ä—Ç–∏–Ω—É:</p><details class="spoiler"><summary>main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–í¬†–ø—Ä–∏–Ω—Ü–∏–ø–µ, –µ—Å–ª–∏ –Ω–µ¬†–ø–∞—Ä–∏—Ç—å—Å—è, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ —Ç–∞–∫. –í—Å—ë –∑–∞–≤–µ–¥—ë—Ç—Å—è –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ú—ã –ø–æ–ª—É—á–∏–º –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä k8s —Å¬†—Ä–∞–±–æ—á–∏–º–∏ —É–∑–ª–∞–º–∏ –≤¬†—Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏, –¥–∞¬†–µ—â—ë –∏ —Å¬†–∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–æ–º. –ù–æ¬†—Å–º–æ–∂–µ–º¬†–ª–∏ –º—ã –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å—ë –∫–∞–∫¬†–µ—Å—Ç—å? –ö–æ–Ω–µ—á–Ω–æ¬†–∂–µ –Ω–µ—Ç, –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –∏–∑¬†—ç—Ç–æ–≥–æ —Ñ—Ä–∞–Ω–∫–µ–Ω—à—Ç–µ–π–Ω–∞ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ, –∫—Ä–∞—Å–∏–≤—ã–µ, –∞¬†–≥–ª–∞–≤–Ω–æ–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã, —Å¬†–∫–æ—Ç–æ—Ä—ã–º–∏ –≤¬†–¥–∞–ª—å–Ω–µ–π—à–µ–º –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –∂–∏—Ç—å —Å¬†—á–∏—Å—Ç–æ–π —Å–æ–≤–µ—Å—Ç—å—é.</p><h2>–ü–æ–≥–Ω–∞–ª–∏)</h2><p>–†–∞–±–æ—Ç–∞—Ç—å –º—ã –±—É–¥–µ–º –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ my_project<em>.¬†</em></p><pre></pre><p>–î–ª—è¬†—Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Ç–µ—Ä k8s –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–µ—Ç—å, –ø–æ–¥—Å–µ—Ç—å –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç. –ü–æ—ç—Ç–æ–º—É, –≤¬†—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å¬†—É–ø–æ–º—è–Ω—É—Ç—ã–º–∏ —Ä–∞–Ω–µ–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏, –º—ã –Ω–∞—á–Ω—ë–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å¬†—Å–µ—Ç–∏ –∏ –µ—ë –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤¬†–æ—Ç–¥–µ–ª—å–Ω–æ–º —Ä–∞–±–æ—á–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ network:</p><pre></pre><p>–î–∞–ª–µ–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª main.tf, –≤ –Ω–µ–º –ø—Ä–æ–ø–∏—à–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –¥–æ—Å—Ç—É–ø –∫ –æ–±–ª–∞–∫—É:</p><details class="spoiler"><summary>my_project/network/main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–í—Å—ë, —á—Ç–æ –∑–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω–æ, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–Ω–∞–∫–æ–º–æ –ø–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Ä–æ–ª–∏–∫—É, –ø–æ—ç—Ç–æ–º—É –Ω–µ –±—É–¥–µ–º –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ–º –∏ –ø–µ—Ä–µ–π–¥–µ–º –∫ –æ–ø–∏—Å–∞–Ω–∏—é —Å–µ—Ç–∏ –∏ –ø–æ–¥—Å–µ—Ç–∏, –∏—Ö –º—ã –æ–ø–∏—à–µ–º –≤ —Ñ–∞–π–ª–µ vpc.tf:</p><details class="spoiler"><summary>my_project/network/vpc.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–≠—Ç–æ —Å–æ–≥–ª–∞—Å–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ø–Ω–¥–µ–∫—Å–∞. –î–∞–≤–∞–π—Ç–µ –Ω–∞¬†–ø—Ä–∏–º–µ—Ä–µ –∫–æ–¥–∞ –≤¬†main.tf –∏ vpc.tf –ø—Ä–æ–≤–µ–¥—ë–º —Ä—è–¥ —É—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–π. –î–ª—è¬†–Ω–∞—á–∞–ª–∞ –≤—ã–Ω–µ—Å–µ–º –∏–º—è —Å–µ—Ç–∏ –∏ –µ—â—ë –ø–∞—Ä—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ. –°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã terraform.tfvars –∏ variables.tf. –¢–µ–ø–µ—Ä—å –Ω–∞—à —Ä–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</p><pre></pre><p>–í —Ñ–∞–π–ª–µ variables.tf —É–∫–∞–∂–µ–º, —á—Ç–æ —Ö–æ—Ç–∏–º —Å–æ–∑–¥–∞—Ç—å —á–µ—Ç—ã—Ä–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</p><details class="spoiler"><summary>my_project/network/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢—É—Ç –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å –ø–æ—è—Å–Ω–µ–Ω–∏–µ –∫¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∂–µ, –≤–∏–∑—É–∞–ª—å–Ω–æ –¥–ª—è¬†—ç—Å—Ç–µ—Ç–∏—á–Ω–æ—Å—Ç–∏ —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∏–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.</p><p>–î–∞–ª–µ–µ, –≤¬†—Ñ–∞–π–ª–µ terraform.tfvars –º—ã –ø—Ä–∏—Å–≤–æ–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:</p><details class="spoiler"><summary>my_project/network/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ò –≤ –∫–æ–Ω—Ü–µ –∫–æ–Ω—Ü–æ–≤ –ø–µ—Ä–µ–ø–∏—à–µ–º –≤ —Ñ–∞–π–ª–∞—Ö main.tf –∏ vpc.tf —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</p><details class="spoiler"><summary>my_project/network/main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><details class="spoiler"><summary>my_project/network/vpc.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–û—Ç–ª–∏—á–Ω–æ, —Å¬†–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä–∞–∑–æ–±—Ä–∞–ª–∏—Å—å, —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–π–¥—ë–º –∫¬†—Ü–∏–∫–ª—É¬†‚Äî –∑–∞—á–µ–º –Ω–∞–º –æ–ø–∏—Å—ã–≤–∞—Ç—å —Ç—Ä–∏ –ø–æ–¥—Å–µ—Ç–∏, –ø–æ¬†—Å—É—Ç–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —Ä–µ—Å—É—Ä—Å–∞, –µ—Å–ª–∏ –º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏—Å—å –æ–¥–Ω–∏–º –±–ª–æ–∫–æ–º –∫–æ–¥–∞, –≤–µ—Ä–Ω–æ? –î–æ–±–∞–≤–∏–º –≤¬†variables.tf –æ–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <em>subnets</em>, —Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å –º—ã –æ–±–æ–∑–Ω–∞—á–∏–º –Ω–µ¬†–æ–¥–∏–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä, –∞¬†–∏—Ö –Ω–∞–±–æ—Ä. –£¬†Terraform –µ—Å—Ç—å —Ç–∏–ø <em>map</em>, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ–¥¬†–∑–∞–¥–∞—á—É (–µ—â—ë¬†–±—ã, –¥–ª—è¬†—ç—Ç–æ–≥–æ –∏ —Å–æ–∑–¥–∞–≤–∞–ª—Å—è):</p><details class="spoiler"><summary>my_project/network/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢—É—Ç¬†–∂–µ, –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–¥–∏ –ø—Ä–∏–º–µ—Ä–∞, –¥–µ–ª–∞—é –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞¬†–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π —Å¬†–ø–æ–º–æ—â—å—é –±–ª–æ–∫–∞ <em>validation</em>, –≥–¥–µ –≤ <em>condition</em> –ø–∏—à—É —É—Å–ª–æ–≤–∏–µ, –∞¬†–≤¬†–ø–∞—Ä–∞–º–µ—Ç—Ä–µ <em>error_message</em> —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏. –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞¬†–≤—Å—ë –ø–æ–¥—Ä—è–¥, –Ω–æ¬†—ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –∏ —Ç—Ä—É–¥–æ–µ–º–∫–∞—è –∑–∞–¥–∞—á–∞. –û—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è –Ω–∞¬†—Ç–æ–º, —á—Ç–æ¬†–ø—Ä–æ—Å—Ç–æ —É–ø–æ–º—è–Ω—É–ª–∏ –æ¬†—Ç–∞–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.</p><p>–î–∞–ª–µ–µ, –≤¬†—Ñ–∞–π–ª–µ terraform.tfvars –º—ã –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∂–µ–º –∑–Ω–∞—á–µ–Ω–∏—è:</p><details class="spoiler"><summary>my_project/network/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —è –¥–æ–±–∞–≤–∏–ª –µ—â—ë 3 –ø–æ–¥—Å–µ—Ç–∏ –¥–ª—è –≤–æ—Ä–∫–µ—Ä-–Ω–æ–¥, —á—Ç–æ–±—ã –≤—Å—ë —Ä–∞–∑–≥—Ä–∞–Ω–∏—á–∏—Ç—å.</p><p>–ê —Ç–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª local.tf, —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:</p><details class="spoiler"><summary>my_project/network/locals.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–í—ã—Ä–∞–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤—Ö–æ–¥–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <em>var.subnets</em> –∏ —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ <em>flatten</em> —Å–≥–ª–∞–∂–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤ –µ–¥–∏–Ω—ã–π –æ–¥–Ω–æ–º–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤. –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º —Å–ø–∏—Å–∫–µ –∏–º–µ–µ—Ç —Ç—Ä–∏ –∞—Ç—Ä–∏–±—É—Ç–∞: <em>name</em>, <em>zone</em> –∏ <em>cidr</em>. –ü—Ä–∏ —ç—Ç–æ–º, –æ—Å—Ç–∞–≤–ª—è—è –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ <em>cidr</em> –≤ —Å–ø–∏—Å–∫–µ, —á—Ç–æ –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ. –í–µ–¥—å –¥–∞–ª–µ–µ –≤ —Ä–µ—Å—É—Ä—Å–µ –Ω–∞–º –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —Å–ø–∏—Å–æ–∫.</p><p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –º–æ–∂–µ–º –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞—à –∫–æ–¥ –≤ vpc.tf:</p><details class="spoiler"><summary>my_project/network/vpc.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ü–∏–∫–ª <em>for_each</em>, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å –∫–∞–∂–¥—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º —Å–ø–∏—Å–∫–∞ <em>local.subnet_array</em>. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è ‚Äúname‚Äù.</p><p>–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å–µ–π—á–∞—Å –¥–ª—è Terraform —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ 6 —Ä–µ—Å—É—Ä—Å–æ–≤, –∏ –æ–Ω —Å–æ–∑–¥–∞—Å—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–¥—Å–µ—Ç–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–µ–º.</p><p>–í—Å—ë, —É –Ω–∞—Å –µ—Å—Ç—å 6 –ø–æ–¥—Å–µ—Ç–µ–π üôÇ</p><p>–ß—Ç–æ –µ—â—ë. –ê, –Ω—É –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ IP-–∞–¥—Ä–µ—Å–∞, —Å–∫–æ–ª—å–∫–æ –±—ã –∏—Ö –Ω–∏ –±—ã–ª–æ. –î–µ–π—Å—Ç–≤—É–µ–º –ø–æ —Ç–æ–º—É –∂–µ —Å—Ü–µ–Ω–∞—Ä–∏—é, –≤ variables.tf –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:</p><details class="spoiler"><summary>my_project/network/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ terraform.tfvars –¥–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è. –°–¥–µ–ª–∞—é –æ–¥–∏–Ω, –Ω–æ –º—ã —Å—Ä–∞–∑—É –∑–∞–∫–ª–∞–¥—ã–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö:</p><details class="spoiler"><summary>my_project/network/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–°–æ–∑–¥–∞—ë–º –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <em>external_ips_array</em> –≤ locals.tf:</p><details class="spoiler"><summary>my_project/network/locals.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ù—É –∏, –Ω–∞–∫–æ–Ω–µ—Ü, —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª static-ip.tf:</p><details class="spoiler"><summary>my_project/network/static-ip.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–í—Å—ë –∫–∞–∫ –∏ —Å –ø–æ–¥—Å–µ—Ç—è–º–∏.</p><p>–ß—Ç–æ –µ—â—ë –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è? –ö–æ–Ω–µ—á–Ω–æ –∂–µ —Å–≤—è–∑–Ω–æ—Å—Ç—å –ø–æ–¥—Å–µ—Ç–µ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∞ –∑–Ω–∞—á–∏—Ç –ø–æ—Ä–∞ –∑–∞–Ω—è—Ç—å—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ–º security group.</p><p>–ü–æ —É–∂–µ —Å–ª–æ–∂–∏–≤—à–µ–π—Å—è —Ç—Ä–∞–¥–∏—Ü–∏–∏, —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª security-group.tf, –≥–¥–µ –æ–ø–∏—à–µ–º –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ –≤–æ—Ä–∫–µ—Ä–æ–≤:</p><details class="spoiler"><summary>my_project/network/security-group.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–õ–∏—á–Ω–æ —è —Å—á–∏—Ç–∞—é —Ç–∞–∫—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –≥—Ä—É–ø–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –±–æ–ª–µ–µ –≤–µ—Ä–Ω–æ–π –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞:</p><ul><li><p>¬†<em>internal</em>, –¥–ª—è —Å–≤—è–∑–Ω–æ—Å—Ç–∏ –º–∞—Å—Ç–µ—Ä–æ–≤ –∏ –≤–æ—Ä–∫–µ—Ä–æ–≤, –∑–¥–µ—Å—å —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –≤—Å—ë –≤ —Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —Å–∞–º–æ–π –≥—Ä—É–ø–ø—ã.¬†</p></li><li><p>¬†<em>k8s_master</em> –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–¥ –º–∞—Å—Ç–µ—Ä–æ–≤ –≥–¥–µ —Ä–∞–∑—Ä–µ—à—ë–Ω –¥–æ—Å—Ç—É–ø –∫ 443 –ø–æ—Ä—Ç—É –ø–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–æ—Ç–æ—Ä–æ–π –º—ã –¥–æ–ª–∂–Ω—ã –ø–µ—Ä–µ–¥–∞—Ç—å –≤–∞–π—Ç–ª–∏—Å—Ç –∏ —Å–ª—É–∂–µ–±–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–≤.</p></li><li><p>¬†<em>k8s_worker</em> –≥—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤, –≥–¥–µ –º—ã —Ä–∞–∑—Ä–µ—à–∏–º –≤–æ–æ–±—â–µ –≤—Å—ë.</p></li></ul><p>¬†–°–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –≤–∞–π—Ç–ª–∏—Å—Ç–∞ –∏ –ø—Ä–æ–ø–∏—à–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ—ë.</p><details class="spoiler"><summary>my_project/network/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><details class="spoiler"><summary>my_project/network/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–° network –∑–∞–∫–æ–Ω—á–∏–ª–∏, –ø–µ—Ä–µ–Ω–æ—Å–∏–º —Å—é–¥–∞ –∫–ª—é—á–∏ –æ—Ç —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –æ—Ç –±–∞–∫–µ—Ç–∞. –†–∞–±–æ—á–∏–π –∫–∞—Ç–∞–ª–æ–≥, –ø–æ—Å–ª–µ –≤—Å–µ—Ö –Ω–∞—à–∏—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π, –¥–æ–ª–∂–µ–Ω –≤—ã–≥–ª—è–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</p><pre></pre><p>–ú–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å <em>terraform init</em>, –∑–∞—Ç–µ–º <em>terraform apply</em>.</p><h2>–¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∫–∞—Ç–∞–ª–æ–≥—É k8s</h2><pre></pre><p>–í—Å—ë –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏: —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª—ã main.tf, variables.tf –∏ terraform.tfvars, –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–Ω–µ—Å—ë–º –Ω–∞—à–∏ –∫–ª—é—á–∏. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, —Å–æ–∑–¥–∞–¥–∏–º –µ—â—ë —Ç—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ cluster.tf, node_group.tf –∏ service_account.tf:</p><pre></pre><p>–ü–µ—Ä–µ–Ω–æ—Å–∏–º —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è –≥—Ä—É–ø–ø —É–∑–ª–æ–≤ –≤ node_group.tf, –æ–ø–∏—Å–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ –≤ cluster.tf, –∏ –≤—Å—ë, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–∏—Å–Ω—ã–º –∞–∫–∫–∞—É–Ω—Ç–∞–º –≤ service_account.tf, —Å—é–¥–∞ –∂–µ –ø–æ–ª–æ–∂–∏–º –∏ –∫–ª—é—á —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è.</p><details class="spoiler"><summary>my_project/k8s/cluster.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><details class="spoiler"><summary>my_project/k8s/service_account.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><details class="spoiler"><summary>my_project/k8s/node_group.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢–∞–∫ –∂–µ, –∫–∞–∫ –∏ –≤ network, —Å–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:</p><details class="spoiler"><summary>my_project/k8s/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ü—Ä–∏—Å–≤–æ–∏–º –∏–º –∑–Ω–∞—á–µ–Ω–∏—è:</p><details class="spoiler"><summary>my_project/k8s/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ò –ø–µ—Ä–µ–ø–∏—à–µ–º main.tf</p><details class="spoiler"><summary>my_project/k8s/main.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ù–µ –∑–∞–±—ã–≤–∞–µ–º —Å–º–µ–Ω–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ <em>key</em>.</p><p>–ò—Ç–∞–∫, –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å. –ù–∞—á–∏–Ω–∞–µ–º —Å service_account.tf, —É –Ω–∞—Å –∏–º—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –±—ã–ª–æ –∑–∞–¥–∞–Ω–æ —á–µ—Ä–µ–∑ <em>locals</em>, –º—ã —ç—Ç–æ –ø–µ—Ä–µ–¥–µ–ª–∞–µ–º. –ù–∞–º –Ω—É–∂–Ω–æ –∏–º—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞—ë–º –∏—Ö:</p><details class="spoiler"><summary>my_project/k8s/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ò –æ–ø—Ä–µ–¥–µ–ª—è–µ–º:</p><details class="spoiler"><summary>my_project/k8s/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º service_account.tf:</p><details class="spoiler"><summary>my_project/k8s/service_account.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ß—Ç–æ –∂, –≤–æ—Ç –º—ã –∏ –º–æ–∂–µ–º, –Ω–∞–∫–æ–Ω–µ—Ü, –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞. –î–∞–≤–∞–π—Ç–µ –ø–æ–¥—Å—Ç–∞–≤–∏–º –Ω–∞—à–∏ –∑–Ω–∞—á–µ–Ω–∏—è –≤ cluster, –ø–æ–ø—É—Ç–Ω–æ –ø—Ä–æ–ø–∏—Å–∞–≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∏–∑ –Ω–∏—Ö:</p><details class="spoiler"><summary>my_project/k8s/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å, —É –¥–≤—É—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∞ –∏–º–µ–Ω–Ω–æ <em>master_public_ip</em> –∏ <em>network_policy_provider</em>, —É–∂–µ –∑–∞–¥–∞–Ω–æ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –ù–∞–º –Ω—É–∂–Ω–æ –≤ terraform.tfvars —É–∫–∞–∑–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ:</p><details class="spoiler"><summary>my_project/k8s/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–í–æ—Ç –º—ã –∏ –¥–æ—à–ª–∏ –¥–æ –≤–∞–∂–Ω–µ–π—à–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞ - –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å id —Å–µ—Ç–∏, –Ω–æ –µ—ë –º—ã –ø–æ–¥–Ω–∏–º–∞–ª–∏ –¥—Ä—É–≥–∏–º –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–º Terraform'–∞, –∞ –∑–Ω–∞—á–∏—Ç, –∏–∑ —ç—Ç–æ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ Terraform –Ω–µ –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Ç–∞–º —Ä–µ—Å—É—Ä—Å—ã. –∫–∞–∫ –∂–µ –±—ã—Ç—å?</p><p>–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∫–∞–∫–∏–µ-–ª–∏–±–æ –¥–∞–Ω–Ω—ã–µ –∏–∑–≤–Ω–µ, –µ—Å—Ç—å <em>data sources</em>. –° –ø–æ–º–æ—â—å—é <em>data</em> –º—ã –º–æ–∂–µ–º —É–∫–∞–∑–∞—Ç—å —Ç–µ—Ä—Ä–∞—Ñ–æ—Ä–º –∏—Å—Ç–æ—á–Ω–∏–∫, –æ—Ç–∫—É–¥–∞ –µ–º—É —Å–ª–µ–¥—É–µ—Ç –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ.¬†</p><p>–°–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª data.tf:</p><details class="spoiler"><summary>my_project/k8s/data.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:¬† <em>data</em>, –∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º –æ—Ç–∫—É–¥–∞ –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∞ –Ω—É–∂–Ω–∞ –Ω–∞–º —Å–µ—Ç—å —Å –∏–º–µ–Ω–µ–º <em>mynet</em>.</p><p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ —Ä–µ—Å—É—Ä—Å–∞, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑–∞–≤ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–∞–º –Ω—É–∂–Ω–æ –æ—Ç—Ç—É–¥–∞ –∑–∞–±—Ä–∞—Ç—å - <em>data.yandex_vpc_network.mynet.id</em>:</p><pre></pre><p>–ú–æ–∂–µ–º –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–∫, –Ω–æ —á—Ç–æ, –µ—Å–ª–∏ –∏–º—è —Å–µ—Ç–∏ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è? –ü–µ—Ä–µ–ø–∏—Å–∞–ª–∏ –º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ç–∏, –Ω–∞–º –∂–µ –ø—Ä–∏–¥—ë—Ç—Å—è –∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ k8s –≤ data.tf –ø–æ–º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä, –∞ –≤–µ–¥—å –º—ã –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–¥ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –ª–∞–∑–∏—Ç—å –±–æ–ª—å—à–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã. –ú—ã –º–æ–∂–µ–º –≤—ã–Ω–µ—Å—Ç–∏ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –º–µ–Ω—è—Ç—å –µ–≥–æ —Ç–∞–º - —Å–∫–∞–∂–µ—Ç–µ –≤—ã. –ê —á—Ç–æ, –µ—Å–ª–∏ –≤–æ–æ–±—â–µ –Ω–µ –∑–∞–º–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è –Ω–∞–¥ —Ç–µ–º, –∫–∞–∫ –Ω–∞–∑–≤–∞–Ω —Ä–µ—Å—É—Ä—Å? –ß—Ç–æ, –µ—Å–ª–∏ –º—ã —É–∫–∞–∂–µ–º id —Å–µ—Ç–∏ —Ç–∞–∫, —á—Ç–æ –Ω–∞–º –Ω–∏–≥–¥–µ –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è –Ω–∏—á–µ–≥–æ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ network? –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å - –∞ –≥–¥–µ –µ—â—ë —Ö—Ä–∞–Ω—è—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–∞—Ö –ª—é–±–æ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞? –í–µ—Ä–Ω–æ, –≤ —Ñ–∞–π–ª–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –í–æ—Ç –º—ã –∏ —É–∫–∞–∂–µ–º Terraform'—É —Å—Ö–æ–¥–∏—Ç—å –∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –¥—Ä—É–≥–æ–π tfstate —Ñ–∞–π–ª.</p><p>–°–æ–∑–¥–∞–¥–∏–º –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö –∏ –≤ –Ω–µ–º —É–∫–∞–∂–µ–º –ø—É—Ç—å –∏ –¥–æ—Å—Ç—É–ø—ã –∫ —á—É–∂–æ–º—É —Ñ–∞–π–ª—É —Å–æ—Å—Ç–æ—è–Ω–∏—è.¬†</p><details class="spoiler"><summary>my_project/k8s/data.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ö–∞–∫ –≤–∏–¥–∏—Ç–µ, –∑–¥–µ—Å—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –¥–∞–≤–∞–π—Ç–µ –∏—Ö —Å–æ–∑–¥–∞–¥–∏–º. –ò –ø—Ä–∏—Å–≤–æ–∏–º –∑–Ω–∞—á–µ–Ω–∏—è - –∏—Ö –º—ã –≤–æ–∑—å–º—ë–º –∏–∑ main.tf –≤ –∫–∞—Ç–∞–ª–æ–≥–µ network. –†–∞—Å–ø–æ–ª–æ–∂–∏–ª —è –∏—Ö –ø–æ—Å–ª–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è main.</p><details class="spoiler"><summary>my_project/k8s/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><details class="spoiler"><summary>my_project/k8s/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º —á–∏—Ç–∞—Ç—å –¥—Ä—É–≥–æ–π —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ —Å—á–∏—Ç—ã–≤–∞—Ç—å –æ—Ç—Ç—É–¥–∞ –∑–Ω–∞—á–µ–Ω–∏—è, –æ–¥–Ω–∞–∫–æ, –∏—Ö —Ç–∞–º –ø–æ–∫–∞ –Ω–µ—Ç. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–Ω–∏ –ø–æ—è–≤–∏–ª–∏—Å—å, –Ω–∞–º –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥ network –∏ –æ—Ñ–æ—Ä–º–∏—Ç—å <em>outputs</em>. –ò—Ç–∞–∫, —Å–æ–∑–¥–∞—ë–º outputs.tf –∏ –æ–ø–∏—Å—ã–≤–∞–µ–º —Ç–æ, —á—Ç–æ —Ö–æ—Ç–∏–º –≤—ã–≤–µ—Å—Ç–∏:</p><details class="spoiler"><summary>my_project/network/outputs.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ê –Ω—É–∂–Ω–æ –Ω–∞–º id —Å–µ—Ç–∏. –í–æ—Ç –∏ –≤—Å—ë. <strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ <em>terraform apply</em>, —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–ª–∏—Å—å –≤ —Ñ–∞–π–ª —Å–æ—Å—Ç–æ—è–Ω–∏—è.</strong></p><p>–¢–µ–ø–µ—Ä—å, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞–º —Å–æ—Å–ª–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∫–æ–π-–ª–∏–±–æ —Ä–µ—Å—É—Ä—Å –∏–∑ network, –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—é <em>data.terraform_remote_state.network.outputs</em>. –∏ –∏–º—è —Ç–æ–≥–æ output‚Äô–∞ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–º –Ω—É–∂–µ–Ω.</p><p>–ù–∞–ø—Ä–∏–º–µ—Ä:</p><pre></pre><p>–î–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º <em>locals</em>, —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å —Å–µ–±–µ –∂–∏–∑–Ω—å. –ò—Ç–∞–∫, —Å–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª locals.tf —Ç—É—Ç –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:</p><details class="spoiler"><summary>my_project/k8s/locals.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢–µ–ø–µ—Ä—å –º–æ–∂–µ–º –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ:</p><pre></pre><p>–î—É–º–∞—é —Ç–∞–∫ –≥–æ—Ä–∞–∑–¥–æ —É–¥–æ–±–Ω–µ–µ.</p><p>–î–∞–≤–∞–π—Ç–µ –¥–ª—è –≥—Ä—É–ø–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–æ–∂–µ –≤—ã–≤–µ–¥–µ–º id, —Ç.–∫. –æ–Ω–∏ –Ω–∞–º —Ç–∞–∫–∂–µ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è:</p><details class="spoiler"><summary>my_project/network/outputs.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ù–æ —Ç–∞–∫–∂–µ –Ω–∞–º –Ω—É–∂–Ω—ã –∑–æ–Ω—ã –∏ id –ø–æ–¥—Å–µ—Ç–µ–π. –ó–¥–µ—Å—å —É–∂–µ —Å–ª–æ–∂–Ω–µ–µ, –≤–µ–¥—å –º—ã –Ω–µ –º–æ–∂–µ–º –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç—å —ç—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è, —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ–¥—Å–µ—Ç–∏ —É –Ω–∞—Å —Å–æ–∑–¥–∞—é—Ç—Å—è —Ü–∏–∫–ª–æ–º –≤ network –∏ –ø–∏—Å–∞—Ç—å output –ø–æ–¥ –∫–∞–∂–¥—É—é –ø–æ–¥—Å–µ—Ç—å –º—ã –Ω–µ –º–æ–∂–µ–º.¬†</p><p>–î–ª—è –Ω–∞—à–µ–π –∑–∞–¥–∞—á–∏ –º—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º output, –Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–ø–∏—à–µ–º –Ω–µ–±–æ–ª—å—à–æ–µ —É—Å–ª–æ–≤–∏–µ:</p><details class="spoiler"><summary>my_project/network/outputs.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ö–∞–∫¬†–≤—ã –ø–æ–º–Ω–∏—Ç–µ, –º—ã —Å–æ–∑–¥–∞–ª–∏ 6¬†–ø–æ–¥—Å–µ—Ç–µ–π, —Ç—Ä–∏ –ø–æ–¥¬†–º–∞—Å—Ç–µ—Ä–æ–≤ –∏ —Ç—Ä–∏ –ø–æ–¥¬†–≤–æ—Ä–∫–µ—Ä–æ–≤, –≤–æ—Ç —è –∏ —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –∏—Ö <em>id</em> –∏ <em>zone</em> —Ä–∞–∑–Ω—ã–º–∏ output¬ª–∞–º–∏: –ø–µ—Ä–≤—ã–π¬†‚Äî –ø–æ–¥¬†–Ω–∞—à–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è¬†–∫–ª–∞—Å—Ç–µ—Ä–∞, –∞¬†–≤—Ç–æ—Ä–æ–π¬†‚Äî –∑–∞—Ä–∞–Ω–µ–µ —Å–¥–µ–ª–∞–µ–º –¥–ª—è¬†–≤–æ—Ä–∫–µ—Ä–æ–≤. </p><p>–ó–¥–µ—Å—å –º—ã —Ñ–∏–ª—å—Ç—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <em>subnets</em>, —á—Ç–æ–±—ã –±—Ä–∞–ª–∞—Å—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø–æ¬†–Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –ø–æ–¥—Å–µ—Ç—è–º(–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –¥–ª—è¬†–º–∞—Å—Ç–µ—Ä–æ–≤). –î–∞–ª–µ–µ —Å¬†–ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ <em>zipmap</em> –º—ã —Å–æ–∑–¥–∞—ë–º —Å–ø–∏—Å–æ–∫, –≥–¥–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∫–ª—é—á–∞–º <em>subnet_id</em> –∏ <em>zone</em> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã –∏–∑¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∏ —Ç–∞–∫ –¥–ª—è¬†–∫–∞–∂–¥–æ–π –ø–æ–¥—Å–µ—Ç–∏ –≤ <em>k8s_masters</em>.</p><p>–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –∏ –¥–ª—è¬†–ø–æ–¥—Å–µ—Ç–µ–π –≤ <em>k8s_workers</em>. </p><p>–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º <em>terraform apply</em>.</p><p>–û–∫–µ–π, —Ç–µ–ø–µ—Ä—å –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞¬†–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∞¬†ID –≥—Ä—É–ø–ø –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —É–∫–∞–∑—ã–≤–∞–µ–º –¥–≤–µ, <em>internal</em> –∏ <em>k8s_master</em> –∏–∑¬†output¬ª–æ–≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞:</p><details class="spoiler"><summary>my_project/k8s/cluster.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–î–ª—è¬†—Ç–æ–≥–æ, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –ø–æ–¥—Å–µ—Ç–∏ –∏ –∑–æ–Ω—ã, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º <em>dynamic</em> –±–ª–æ–∫ —Å¬†—Ü–∏–∫–ª–æ–º <em>for_each</em>, —É–∫–∞–∑—ã–≤–∞–µ–º, –æ—Ç–∫—É–¥–∞ –±—É–¥–µ–º –±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (–∞ –±–µ—Ä–µ–º –º—ã –∏—Ö –∏–∑¬†–Ω–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ output¬ªa). –î–∞–ª–µ–µ –º—ã –æ–ø–∏—Å—ã–≤–∞–µ–º content, –∏ —Å—é–¥–∞ –ø–∏—à–µ–º —Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã —ç—Ç–æ–º—É –±–ª–æ–∫—É, –∞¬†–Ω—É–∂–Ω—ã –∑–æ–Ω–∞ –∏ ID, —Ç–µ–ø–µ—Ä—å —É–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–∫—É–¥–∞ –±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è, –∞¬†–∏—Ö –º—ã –±–µ—Ä–µ–º –∏–∑¬†—Ç–æ–≥–æ —Ü–∏–∫–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø–µ—Ä–µ–¥–∞–ª–∏, —Ç.¬†–µ. <em>location.value</em> –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç –Ω—É–∂–µ–Ω.</p><p>–ó–∞–ø—É—Å–∫–∞–µ–º <em>terraform init</em> –∏ <em>terraform apply</em> –≤¬†–∫–∞—Ç–∞–ª–æ–≥–µ k8s.</p><p>–ù—É –≤–æ—Ç, —É¬†–Ω–∞—Å –ø–æ–ª—É—á–∏–ª–æ—Å—å –ø–æ–¥–Ω—è—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å¬†–ø–æ–º–æ—â—å—é –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –º–∞–Ω–∏—Ñ–µ—Å—Ç–æ–≤ Terraform. –ë–µ–∂–∏–º –≤¬†–Ø–Ω–¥–µ–∫—Å –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º¬†‚Äî –∫–ª–∞—Å—Ç–µ—Ä –Ω–∞¬†–º–µ—Å—Ç–µ. –ù–∞–º –æ—Å—Ç–∞–ª–æ—Å—å —Ä–µ—à–∏—Ç—å, –∫–∞–∫¬†–æ–ø–∏—Å–∞—Ç—å –≥—Ä—É–ø–ø—ã —É–∑–ª–æ–≤. –û–Ω–∏ —É¬†–Ω–∞—Å —Ç–∞–∫¬†–∂–µ, –∫–∞–∫¬†–∏ –ø–æ–¥—Å–µ—Ç–∏ –¥–æ¬†—ç—Ç–æ–≥–æ, —É–∫–∞–∑–∞–Ω—ã —Ç—Ä–µ–º—è —Ä–µ—Å—É—Ä—Å–∞–º–∏. –î–∞–≤–∞–π—Ç–µ –∏—Å–ø—Ä–∞–≤–ª—è—Ç—å. –ö–∞–∫¬†–≤—ã –Ω–∞–≤–µ—Ä–Ω–æ–µ —É–∂–µ –¥–æ–≥–∞–¥–∞–ª–∏—Å—å, –¥–µ–ª–∞—Ç—å –º—ã —ç—Ç–æ –±—É–¥–µ–º —á–µ—Ä–µ–∑ —Ç–æ—Ç¬†–∂–µ <em>for_each</em>. –ù–æ¬†—Å–Ω–∞—á–∞–ª–∞, —Å–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:</p><details class="spoiler"><summary>my_project/k8s/variables.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ò –ø—Ä–∏—Å–≤–æ–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ —ç—Ç–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ terraform.tfvars:</p><details class="spoiler"><summary>my_project/k8s/terraform.tfvars</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–¢—É—Ç –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –≤—Å—ë —Ç–æ, —á—Ç–æ¬†—Ö–æ—Ç–∏–º –≤–∏–¥–µ—Ç—å –≤¬†–ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —Ä–µ—Å—É—Ä—Å–∞, –≥–ª–∞–≤–Ω–æ–µ –ø–æ—Ç–æ–º —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–∏—Å–≤–æ–∏—Ç—å. –ö–∞–∫¬†–≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, –±–ª–æ–∫–∏ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è, –∞¬†–∏–º–µ–Ω–Ω–æ –¥–ª—è <em>node‚Äëgroup‚Äëa</em> —É–∫–∞–∑–∞–Ω <em>auto_scale</em>, –∞¬†–¥–ª—è¬†–æ—Å—Ç–∞–ª—å–Ω—ã—Ö –≥—Ä—É–ø–ø <em>fixed_scale</em>. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —è —Ö–æ—á—É –¥–æ–±–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–µ–Ω—è—Ç—å —Ç–∏–ø –≥—Ä—É–ø–ø —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.</p><p>–¢–∞–∫–∂–µ, –≤ <em>yandex_kubernetes_node_group</em> –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å id –ø–æ–¥—Å–µ—Ç–µ–π. –í—Å–ø–æ–º–∏–Ω–∞–µ–º –æ¬†–Ω–∞—à–µ–º —Ä–∞–Ω–µ–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–º output¬ª–µ¬†‚Äî <em>k8s_workers_subnet_info</em>, –Ω–æ¬†—Ç–∞–º –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –Ω–µ¬†—Ç–æ–ª—å–∫–æ id, –Ω–æ¬†–∏ –∑–æ–Ω–∞. –í¬†—á–µ–º –ø—Ä–æ–±–ª–µ–º–∞?¬†‚Äî —Å–ø—Ä–æ—Å–∏—Ç–µ –≤—ã. –í–µ–¥—å –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å output, —á—Ç–æ–±—ã –æ–Ω –≤—ã–¥–∞–≤–∞–ª —Ç–æ–ª—å–∫–æ id. –ù–æ¬†–Ω–µ—Ç, –≤¬†—Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ —É¬†–Ω–∞—Å –ø—Ä–æ–ø–∞–¥—ë—Ç –ø—Ä–∏–≤—è–∑–∫–∞ –∫¬†–∑–æ–Ω–µ, –≤–µ–¥—å –º—ã –ø—Ä–æ—Å—Ç–æ –ø–æ–ª—É—á–∏–º –Ω–∞–±–æ—Ä id, –∏ –ø–æ–Ω—è—Ç—å –∫–∞–∫–æ–π –∏–∑¬†–Ω–∏—Ö –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∑–æ–Ω–µ –Ω–µ¬†–ø–æ–ª—É—á–∏—Ç—Å—è. –î–∞, –æ–Ω–∏ —É¬†–Ω–∞—Å —Å–µ–π—á–∞—Å –ø–æ¬†–ø–æ—Ä—è–¥–∫—É, –ø–µ—Ä–≤—ã–π id –±—É–¥–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫¬†–∑–æ–Ω–µ <em>ru‚Äëcenral1-a</em>, –≤—Ç–æ—Ä–æ–π¬†‚Äî –∫ <em>b</em> –∏ —Ç—Ä–µ—Ç–∏–π¬†‚Äî –∫ <em>c</em>. –ù–æ¬†—ç—Ç–æ –º—ã –≤¬†–º–∞–Ω–∏—Ñ–µ—Å—Ç–µ network –Ω–∞—à–µ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —Ç–∞–∫ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ¬†–ø–æ—Ä—è–¥–∫—É —É–∫–∞–∑–∞–ª–∏, –∞¬†–≤–æ—Ç –µ—Å–ª–∏ –∏—Ö –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏, –ø–æ–ª—É—á–∏–º –ø—É—Ç–∞–Ω–∏—Ü—É —Å¬†—Ç–∞–∫–∏–º –ø–æ–¥—Ö–æ–¥–æ–º, –∏ –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è —É¬†–Ω–∞—Å, –∫¬†–ø—Ä–∏–º–µ—Ä—É, –≥—Ä—É–ø–ø–∞ —Å¬†–∏–º–µ–Ω–µ–º <em>node‚Äëgroup‚Äëa</em> –≤¬†–∑–æ–Ω–µ <em>b</em>. –ü–æ—ç—Ç–æ–º—É output –º—ã –Ω–µ¬†—Ç—Ä–æ–≥–∞–µ–º, –∞¬†—Å–¥–µ–ª–∞–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ locals:</p><details class="spoiler"><summary>my_project/k8s/locals.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–°–æ–∑–¥–∞—ë–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é <em>worker_subnet_list</em>, —Ç—É—Ç –º—ã —Å–æ–∑–¥–∞–¥–∏–º —Å–ø–∏—Å–æ–∫, –≥–¥–µ –∫–∞–∂–¥–æ–π –∑–æ–Ω–µ –ø—Ä–∏—Å–≤–æ–∏—Ç—Å—è <em>id</em>.</p><p>–í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –∫ –Ω–∞—à–µ–º—É —Ä–µ—Å—É—Ä—Å—É –≤ —Ñ–∞–π–ª node_group.tf:</p><details class="spoiler"><summary>my_project/k8s/node_group.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><ul><li><p>–ö–æ–Ω–µ—á–Ω–æ¬†–∂–µ, –º–µ–Ω—è–µ–º –∏–º—è —Ä–µ—Å—É—Ä—Å–∞ –≤¬†Terraform'–µ.</p></li><li><p>–û–±—ä—è–≤–ª—è–µ–º, —á—Ç–æ¬†—Ö–æ—Ç–∏–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <em>for_each</em> –∏ —É–∫–∞–∑—ã–≤–∞–µ–º –æ—Ç–∫—É–¥–∞ —Ü–∏–∫–ª—É –±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è (–∞ –ª–µ–∂–∞—Ç –æ–Ω–∏ –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <em>node_groups</em>).</p></li><li><p><em>name</em>, –±–µ—Ä–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑¬†each.key, —ç—Ç–æ —É¬†–Ω–∞—Å –∏–º—è –æ–±—ä–µ–∫—Ç–∞: <em>node‚Äëgroup‚Äëa</em>, <em>node‚Äëgroup‚Äëb</em> –∏ <em>node‚Äëgroup‚Äëc</em>. </p></li><li><p>–î–∞–ª–µ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –æ—Å—Ç–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º, –Ω–æ¬†–¥–µ–ª–∞–µ–º –º—ã —ç—Ç–æ –ø–æ¬†—É—Å–ª–æ–≤–∏—é, –¥–ª—è¬†—ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—è <em>lookup</em>, —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —É¬†–Ω–µ—ë –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç, –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –≥–¥–µ –∏—Å–∫–∞—Ç—å, —á—Ç–æ¬†–∏—Å–∫–∞—Ç—å, –∏ —á—Ç–æ¬†–ø—Ä–∏—Å–≤–æ–∏—Ç—å –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ¬†–Ω–∞—à–ª–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ¬†—É–º–æ–ª—á–∞–Ω–∏—é).</p></li><li><p><em>subnet_ids</em> —Å—Ç–∞–≤–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫ <em>local</em>.<em>worker_subnet_list</em>, —É–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ¬†–±—Ä–∞—Ç—å, –∞¬†–∑–∞–±–∏—Ä–∞—Ç—å –º—ã –±—É–¥–µ–º id —Ç–æ–π –∑–æ–Ω—ã, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑–∞–Ω–∞ –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <em>node_groups</em>, –ø–æ—ç—Ç–æ–º—É —Å—Ç–∞–≤–∏–º <em>each.value[¬´zone¬ª]</em>. –î–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —É–±–∏—Ä–∞–µ–º, —Ç.–∫. —Å—é–¥–∞ –º—ã –ø–æ¬†—É–º–æ–ª—á–∞–Ω–∏—é –Ω–∏—á–µ–≥–æ –Ω–µ¬†—Å–º–æ–∂–µ–º –ø–æ—Å—Ç–∞–≤–∏—Ç—å. </p></li><li><p><em>security_group_ids</em>¬†‚Äî –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º –±–µ–∑¬†–≤—Å—è–∫–∏—Ö —É—Å–ª–æ–≤–∏–π, –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–µ output¬ª—ã. </p></li><li><p><em>scale_policy</em>¬†‚Äî –∫–∞–∫¬†—è —É–∂–µ –≥–æ–≤–æ—Ä–∏–ª, –Ω—É–∂–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞,¬†–ª–∏–±–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞ —É–∑–ª–æ–≤,¬†–ª–∏–±–æ —Å¬†–∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–æ–º¬†‚Äî –¥–ª—è¬†—ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–ª—è–µ–º –¥–≤–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö dynamic –±–ª–æ–∫–∞, –≤¬†–Ω–∏—Ö –æ–ø–∏—Å—ã–≤–∞–µ–º —Ü–∏–∫–ª, –Ω–æ, –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ¬†–ø–æ–ª—É—á–∏—Ç—Å—è, —É¬†–Ω–∞—Å –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è¬†—ç—Ç–∏—Ö –±–ª–æ–∫–æ–≤, —á—Ç–æ–±—ã –≤—ã—Ç–∞—â–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω—É–∂–Ω–æ —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –≤—ã—Ç–∞—â–∏—Ç—å –∏–∑¬†–¥—Ä—É–≥–æ–≥–æ, –¥–ª—è¬†—ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π <em>flatten</em>, –∫–æ—Ç–æ—Ä–∞—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏. –ê¬†–¥–∞–ª–µ–µ –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <em>lookup</em>¬†‚Äî –æ—Ç–ª–∏—á–∏–µ¬†–ª–∏—à—å –≤¬†—Ç–æ–º, —á—Ç–æ¬†–¥–ª—è¬†–±–ª–æ–∫–∞ <em>fixed_scale</em> –Ω–∞¬†–º–µ—Å—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –º—ã —Å—Ç–∞–≤–∏–º —É—Å–ª–æ–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ <em>auto_scale</em> –∏ –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, –æ—Å—Ç–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –±–ª–æ–∫ <em>fixed_scale</em> –±–µ–∑¬†–∑–Ω–∞—á–µ–Ω–∏—è, –∞¬†–µ—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –æ–¥–∏–Ω —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —É–∑–µ–ª. </p></li><li><p>–í <em>content</em> –¥–ª—è¬†—ç—Ç–∏—Ö –±–ª–æ–∫–æ–≤ —É–∫–∞–∑—ã–≤–∞–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑¬†—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞: –¥–ª—è <em>auto_scale¬†‚Äî auto_scale.value.</em>—á—Ç–æ_–±–µ—Ä–µ–º, –¥–ª—è <em>fixed_scale¬†‚Äî fixed_scale</em>.<em>value.size</em></p></li><li><p><em>allocation policy:</em> –±–µ–∑¬†–≤—Å—è–∫–∏—Ö lookup¬ª–æ–≤ —Å—Å—ã–ª–∞–µ–º—Å—è –Ω–∞¬†–Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.</p></li></ul><p>–ü–æ–ª—É—á–∏–≤—à–∞—è—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–Ω–∏–º–∞—Ç—å –¥–ª—è¬†–Ω–∞—Å —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä Kubernetes, —Å¬†–∞–≤—Ç–æ—Å–∫–µ–π–ª–∏–Ω–≥–æ–º –Ω–æ–¥ –≤¬†–∑–æ–Ω–µ <em>ru‚Äëcentral1-a</em>, –∞¬†–≤¬†–æ—Å—Ç–∞–ª—å–Ω—ã—Ö –∑–æ–Ω–∞—Ö —Å 1¬†—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–æ–¥–æ–π. </p><p>–û–¥–Ω–∞–∫–æ, –≤¬†–ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—Ç–µ–Ω–¥–∞ —è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å¬†–ø—Ä–æ–±–ª–µ–º–æ–π, —á—Ç–æ¬†–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥–Ω–∏–º–∞–ª–∞—Å—å –∏ —Ä–∞–±–æ—Ç–∞–ª–∞ —Å¬†—ç—Ç–∏–º –∫–æ–¥–æ–º, –∞¬†—É–∂–µ –Ω–∞¬†—Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å¬†‚Äî –Ω–µ—Ç. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É–∑–ª—ã —Å–æ–∑–¥–∞–≤–∞–ª–∏—Å—å, –Ω–æ¬†–Ω–µ¬†–∏–º–µ–ª–∏ —Å–≤—è–∑–∏ —Å¬†–º–∞—Å—Ç–µ—Ä–∞–º–∏. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —è –ø–æ–Ω—è–ª, —á—Ç–æ¬†–ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è¬†–≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ¬†–æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ç–∞–∫, –∫–∞–∫¬†—ç—Ç–æ –∑–∞–¥—É–º–∞–Ω–æ. –ü—Ä–∏—à–ª–æ—Å—å –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≥—Ä—É–ø–ø—É internal:</p><details class="spoiler"><summary>my_project/network/security-group.tf</summary><div class="spoiler__content"><pre></pre><p></p></div></details><p>–ü–æ—è—Å–Ω—é —Å–≤–æ—é –º—ã—Å–ª—å. –ü—Ä–∞–≤–∏–ª–æ, –≥–¥–µ –º—ã –≤—ã—Å—Ç–∞–≤–ª—è–µ–º <em>predefined_target = ¬´self_security_group¬ª</em>, –¥–æ–ª–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∞—Ç—å –≤—Å—ë –≤¬†—Ä–∞–º–∫–∞—Ö —ç—Ç–æ–π —Å–∞–º–æ–π –≥—Ä—É–ø–ø—ã, —Ç.¬†–µ. —Ö–æ—Å—Ç—ã, –∫¬†–∫–æ—Ç–æ—Ä—ã–º –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –≥—Ä—É–ø–ø–∞ <em>internal</em> (–∞ –≤¬†–Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –≤—Å–µ –º–∞—Å—Ç–µ—Ä—ã –∏ –≤–æ—Ä–∫–µ—Ä—ã), –¥–æ–ª–∂–Ω—ã —Å–≤–æ–±–æ–¥–Ω–æ –æ–±—â–∞—Ç—å—Å—è –¥—Ä—É–≥ —Å¬†–¥—Ä—É–≥–æ–º. –ù–æ¬†—ç—Ç–æ–≥–æ –Ω–µ¬†–ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç¬†‚Äî –ø–æ¬†–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ—Ç¬†—Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏, –æ–Ω–∏ –ø–µ—Ä–µ—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã —ç—Ç–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞, –∏ –ø–æ–∫–∞ –æ–Ω–æ –º–æ–∂–µ—Ç ¬´—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–æ–∂–∏–¥–∞–µ–º—ã–º –æ–±—Ä–∞–∑–æ–º, –∫–æ–≥–¥–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤¬†—Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω–∞—Ö¬ª. –ü–æ—ç—Ç–æ–º—É, –º–Ω–µ –ø—Ä–∏—à–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –¥—Ä—É–≥–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –≤—Å–µ–º —É–∑–ª–∞–º, –Ω–∞—Ö–æ–¥—è—â–∏–º—Å—è –≤¬†–ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –≤¬†–Ω–µ–π –ø–æ–¥—Å–µ—Ç—è—Ö. </p><p>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–æ:¬†</p><ol><li><p>–ù–∞–º –Ω—É–∂–Ω—ã cidr –Ω–∞—à–∏—Ö –ø–æ–¥—Å–µ—Ç–µ–π, –æ–Ω–∏ —É¬†–Ω–∞—Å –≤¬†–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <em>subnets</em>. –û–¥–Ω–∞–∫–æ, –Ω–∞–º –Ω–µ¬†–Ω—É–∂–Ω–æ —Å–æ–±–∏—Ä–∞—Ç—å —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–æ –≤—Å–µ—Ö –ø–æ–¥—Å–µ—Ç–µ–π, –º—ã¬†–∂–µ –º–æ–∂–µ–º –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –¥—Ä—É–≥–∏—Ö, –Ω–µ¬†—Ç–æ–ª—å–∫–æ –¥–ª—è¬†–∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –≤–æ—Ä–∫–µ—Ä–æ–≤, –∫–∞–∫¬†—Å–µ–π—á–∞—Å,¬†‚Äî —É¬†–Ω–∞—Å –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –¥—Ä—É–≥–∏–µ –ø–æ–¥—Å–µ—Ç–∏, –∏ –º—ã –Ω–µ¬†–º–æ–∂–µ–º –ø–æ–∑–≤–æ–ª–∏—Ç—å —Ç—Ä–∞—Ñ–∏–∫—É —Å¬†–¥—Ä—É–≥–∏—Ö —Ö–æ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ¬†–æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫¬†–∫–ª–∞—Å—Ç–µ—Ä—É, —Ö–æ–¥–∏—Ç—å –∫¬†–Ω–µ–º—É. –ü–æ—ç—Ç–æ–º—É –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ¬†–æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫¬†–∫–ª–∞—Å—Ç–µ—Ä—É,¬†‚Äî —ç—Ç–æ –º–∞—Å—Ç–µ—Ä—ã –∏ –≤–æ—Ä–∫–µ—Ä—ã:</p></li></ol><pre></pre><ol start="2"><li><p>–ù–æ, —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∏–ª–∏ –¥–≤–∞ —Å–ø–∏—Å–∫–∞. –ù–µ –ø—Ä–æ–±–ª–µ–º–∞, –≤—ã–∑–æ–≤–µ–º —Ñ—É–Ω–∫—Ü–∏—é concat, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤ –≤ –æ–¥–∏–Ω:¬†</p></li></ol><pre></pre><ol start="3"><li><p>–¢–µ–ø–µ—Ä—å, –Ω—É–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å —Ç–æ–ª—å–∫–æ <em>cidr</em>, –∞ —É –Ω–∞—Å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –∫–ª—é—á–∞ –µ—â—ë <em>name</em> –∏ <em>zone</em>, –ø–æ—ç—Ç–æ–º—É –Ω–∞–ø–∏—à–µ–º —É—Å–ª–æ–≤–∏–µ, —á—Ç–æ –≤ —Å–ø–∏—Å–æ–∫ –º—ã —Å–æ–±–∏—Ä–∞–µ–º —Ç–æ–ª—å–∫–æ –∑–Ω–∞—á–µ–Ω–∏—è –∫–ª—é—á–∞ <em>cidr</em>:</p></li></ol><pre></pre><ol start="4"><li><p>–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω—É–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –Ω–æ, <em>cidr</em> —É –Ω–∞—Å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –∫–∞–∫ –≤–ª–æ–∂–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫, —Å –ø–æ–º–æ—â—å—é <em>flatten</em> –º—ã –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ–º —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫:</p></li></ol><pre></pre><p>–í–æ—Ç —Ç–µ–ø–µ—Ä—å, –º–æ–∂–µ–º –∑–∞–ø—É—Å–∫–∞–µ–º <em>terraform apply</em> –∏ –ª—é–±—É–µ–º—Å—è –Ω–∞¬†–Ω–∞—à—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É. üôÇ</p><p>–ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤¬†–Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–∞–∫¬†–¥–æ—Å—Ç—É–ø –ø–æ¬†ssh –∫¬†–≤–æ—Ä–∫–µ—Ä‚Äë–Ω–æ–¥–∞–º, –≤—ã —ç—Ç–æ —Å–º–æ–∂–µ—Ç–µ —Å–¥–µ–ª–∞—Ç—å —É–∂–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –ø–æ—á–∏—Ç–∞–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.</p><h2>–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2><p>–ú–æ–∂–Ω–æ¬†–±—ã–ª–æ –µ—â—ë –º–Ω–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–ø–∏—Å–∞—Ç—å, –Ω–æ¬†—Ü–µ–ª—å —Å—Ç–∞—Ç—å–∏ –≤¬†–¥—Ä—É–≥–æ–º¬†‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã –ø–æ¬†–Ω–∞–ø–∏—Å–∞–Ω–∏—é –∫–æ–¥–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –Ω–∞—É—á–∏—Ç—å —Å–ø–æ—Å–æ–±–∞–º —Ä–∞–±–æ—Ç—ã —Å¬†–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ Terraform¬ª–∞. –ù–∞–¥–µ—é—Å—å –≤–∞–º —ç—Ç–æ –ø–æ–º–æ–≥–ª–æ. </p><p>–°–∞–º—ã–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–µ, –Ω–∞–≤–µ—Ä–Ω–æ–µ, –∑–∞–º–µ—Ç–∏–ª–∏, —á—Ç–æ¬†—è –≥–æ–≤–æ—Ä–∏–ª –æ¬†—Ç–æ–º, —á—Ç–æ¬†–Ω–µ¬†–Ω—É–∂–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã, –µ—Å–ª–∏ –∏—Ö –º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –æ–¥–Ω–∏–º –±–ª–æ–∫–æ–º, –Ω–æ¬†–ø—Ä–∏¬†—ç—Ç–æ–º, —Å–∞–º —Å–æ–∑–¥–∞–ª –ø–æ–¥—Ä—è–¥ —Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏. –¢–∞–∫ –≤–æ—Ç, –ø—Ä–µ–¥–ª–∞–≥–∞—é –≤–∞–º –Ω–∞–ø–∏—Å–∞—Ç—å –≤¬†–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö, –∫–∞–∫¬†–±—ã –≤—ã –æ–ø–∏—Å–∞–ª–∏ —ç—Ç–∏ —Ä–µ—Å—É—Ä—Å—ã. </p><p>–°–ø–∞—Å–∏–±–æ, —á—Ç–æ¬†–¥–æ—á–∏—Ç–∞–ª–∏ –¥–æ¬†–∫–æ–Ω—Ü–∞. –ü–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è –≤—ã–ª–æ–∂–∏—Ç—å —Å–ª–µ–¥—É—é—â—É—é —á–∞—Å—Ç—å, –∫–∞–∫¬†–º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ. –ë–ª–∞–≥–æ–¥–∞—Ä—é –≤—Å–µ—Ö –∑–∞¬†–≤–Ω–∏–º–∞–Ω–∏–µ, –¥–æ¬†—Å–∫–æ—Ä–æ–≥–æ!)</p><p></p></div></div></div> <!-- --> <!-- --></div> <!-- --> <!-- --></div> <!-- --> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">–¢–µ–≥–∏:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bterraform%5D">terraform</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bdevops%5D">devops</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bkubernetes%5D">kubernetes</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bcloud%5D">cloud</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Biac%5D">iac</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Byandex.cloud%5D">yandex.cloud</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bautomatization%5D">automatization</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Binfrastructure%5D">infrastructure</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bnixys%5D">nixys</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%5D">–æ–±—É—á–µ–Ω–∏–µ</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">–•–∞–±—ã:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-hubs-list__link router-link-active" href="/ru/company/nixys/blog/">–ë–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–∏ Nixys</a></li><li class="tm-separated-list__item"><a class="tm-hubs-list__link" href="/ru/hub/it-infrastructure/">IT-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞</a></li><li class="tm-separated-list__item"><a class="tm-hubs-list__link" href="/ru/hub/devops/">DevOps</a></li></ul></div></div></article></div> <!-- --></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>–í—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤ 9: ‚Üë8 –∏ ‚Üì1</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-rating"></use></svg> <span class="tm-votes-meter__value tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" title="–í—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤ 9: ‚Üë8 –∏ ‚Üì1">+7</span></div> <div class="v-portal" style="display:none;"></div></div> <!-- --> <!-- --> <button class="bookmarks-button tm-data-icons__item" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-favorite"></use></svg></span> <span class="bookmarks-button__counter" title="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –¥–æ–±–∞–≤–∏–≤—à–∏—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –∑–∞–∫–ª–∞–¥–∫–∏">
    68
  </span></button> <div class="tm-sharing tm-data-icons__item" title="–ü–æ–¥–µ–ª–∏—Ç—å—Å—è"><button class="tm-sharing__button" type="button"><svg class="tm-sharing__icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z" fill="currentColor"></path></svg></button> <div class="v-portal" style="display:none;"></div></div> <div class="tm-article-comments-counter-link tm-data-icons__item" title="–ß–∏—Ç–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏"><a class="tm-article-comments-counter-link__link" href="/ru/company/nixys/blog/721404/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      6
    </span></a> <!-- --></div> <!-- --> <div class="v-portal" style="display:none;"></div></div></div></div> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!-- --> <div></div> <section class="tm-block tm-block tm-block_spacing-bottom"><!-- --> <div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a class="tm-company-snippet__logo-link" href="/ru/company/nixys/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="40" src="//habrastorage.org/getpro/habr/company/f6e/589/531/f6e589531a2c8ea0eb18246df841f748.png" width="40"/></div></a> <div class="tm-company-snippet__info"><a class="tm-company-snippet__title" href="/ru/company/nixys/profile/">Nixys</a> <div class="tm-company-snippet__description">DevOps, DevSecOps, MLOps ‚Äî —Å–∏—Å—Ç–µ–º–Ω—ã–π IT-–∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä</div></div></div> <div class="tm-article-author__buttons"><!-- --> <!-- --></div></div> <div class="tm-article-author__company-contacts"><a class="tm-article-author__contact" href="https://nixys.ru" rel="noopener" target="_blank">
      –°–∞–π—Ç
    </a><a class="tm-article-author__contact" href="https://vk.com/nixysteam" rel="noopener" target="_blank">
      –í–ö–æ–Ω—Ç–∞–∫—Ç–µ
    </a><a class="tm-article-author__contact" href="https://telegram.me/devops_fm" rel="noopener" target="_blank">
      Telegram
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a class="tm-user-card__userpic tm-user-card__userpic_size-40" href="/ru/users/Vikontrol/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" src="//habrastorage.org/getpro/habr/avatars/2bd/0e5/816/2bd0e5816ef084b16cd734f653816391.jpg"/></div></a> <div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 11 –≥–æ–ª–æ—Å–æ–≤ "><div class="tm-counter-container__header"><div class="tm-karma__votes tm-karma__votes_positive">
      5
    </div></div> <div class="tm-counter-container__footer"><div class="tm-karma__text">
      –ö–∞—Ä–º–∞
    </div> <div class="v-portal" style="display:none;"></div></div></div> <div class="tm-counter-container" title="–†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"><div class="tm-counter-container__header"> <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating">
        5
      </span></div> <!-- --></div></div> <div class="tm-counter-container__footer"><span class="tm-rating__text tm-rating__text">
      –†–µ–π—Ç–∏–Ω–≥
    </span></div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name tm-user-card__name_variant-article">–í–∏–∫—Ç–æ—Ä</span> <a class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article" href="/ru/users/Vikontrol/">
          @Vikontrol
        </a> <!-- --></div> <p class="tm-user-card__short-info tm-user-card__short-info tm-user-card__short-info_variant-article">DevOps</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons tm-user-card__buttons_variant-article"><!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div></div> <!-- --></div> <div class="v-portal" style="display:none;"></div></div> <!-- --></section> <!-- --> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" href="/ru/company/nixys/blog/721404/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ 6 
    </span></a> <!-- --></div></div></div> <section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">–ü—É–±–ª–∏–∫–∞—Ü–∏–∏</h2> </div> <!-- --></header> <div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><div class="tm-tabs tm-tabs"><div><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim">
        –õ—É—á—à–∏–µ –∑–∞ —Å—É—Ç–∫–∏
      </button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_slim">
        –ü–æ—Ö–æ–∂–∏–µ
      </button></span></div> <!-- --></div> <div class="similar-and-daily__tab-view"><div><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-article-cards"><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --></div> <!-- --></div></div> <!-- --></section> <div><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-inset tm-placeholder-vacancies"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div> <div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li></ul></div> <div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div> <!-- --> </div></div></div></div></div> <div class="tm-page__sidebar"><!-- --></div></div></div></div></main> <!-- --></div> <!-- --> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><div class="tm-footer__title"><a class="tm-svg-icon__wrapper tm-footer__title-link router-link-active" href="/ru/"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>–•–∞–±—Ä</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a></div> <div class="tm-footer__social"><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>–Ø–Ω–¥–µ–∫—Å –î–∑–µ–Ω</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <div class="v-portal" style="display:none;"></div> <button class="tm-footer__link"><svg class="tm-svg-img tm-footer__icon" height="16" width="16"><title>–Ø–∑—ã–∫</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#lang"></use></svg>
        –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —è–∑—ã–∫–∞
      </button> <a class="tm-footer__link" href="/ru/feedback/">
        –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
      </a> <a class="tm-footer__link" href="/berserk-mode-nope">
        –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">¬© 2006‚Äì2023, </span> <span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div></div></div> <!-- --> <!-- --></div> <div class="vue-portal-target"></div></div>





<noscript>
<div>
<img alt="" src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;"/>
</div>
</noscript>


</body>
</html>
