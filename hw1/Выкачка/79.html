<!DOCTYPE html>
<html data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D" lang="ru">
<head>



<title>Распределение для рекордов, циклических перестановок и количества дел, которые вы успеете сделать за свою жизнь / Хабр</title>














































</head>
<body>
<div data-async-called="true" data-server-rendered="true" id="app"><div class="tm-layout__wrapper"><!-- --> <div></div> <div class="tm-feature tm-feature"><!-- --></div> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><div class="tm-header__burger-nav"><button class="tm-header__button tm-header__button_burger" type="button"><svg class="tm-svg-img tm-header__icon tm-header__icon-burger" height="16" width="16"><title>Меню</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#header-burger"></use></svg></button></div> <span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_ru" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <!-- --> <div class="tm-header-user-menu tm-header_user-menu"><a class="tm-header-user-menu__item tm-header-user-menu__search" href="/ru/search/"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search" height="24" width="24"><title>Поиск</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#search"></use></svg></a> <!-- --> <!-- --> <!-- --> <div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="menu-toggle-guest"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_white" height="24" width="24"><title>Профиль</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#header-user"></use></svg></button> <!-- --></div> <!-- --></div></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <!-- --> <!-- --> <div class="tm-page-width"></div> <main class="tm-layout__container"><div class="tm-page" data-async-called="true" hl="ru"><div class="tm-page-width"><!-- --> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><!-- --> <div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__arrow" height="24" width="24"><title>Обновить</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet tm-article-snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a class="tm-user-info__userpic" href="/ru/users/samsergey/" title="samsergey"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="32" src="//habrastorage.org/getpro/habr/avatars/234/002/2cc/2340022cc75806fdd43791b9e18adaff.gif" width="32"/></div></a> <span class="tm-user-info__user"><a class="tm-user-info__username" href="/ru/users/samsergey/">
      samsergey
      <!-- --></a> <span class="tm-article-datetime-published"><time datetime="2023-03-10T02:42:36.000Z" title="2023-03-10, 05:42">вчера в 05:42</time></span></span></span></div> <!-- --></div> <h1 class="tm-article-snippet__title tm-article-snippet__title_h1" lang="ru"><span>Распределение для рекордов, циклических перестановок и количества дел, которые вы успеете сделать за свою жизнь</span></h1> <div class="tm-article-snippet__stats"><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Уровень сложности</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#complexity-medium"></use></svg></span> <span class="tm-article-complexity__label">
    Средний
  </span></div> <div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#clock"></use></svg></span> <span class="tm-article-reading-time__label">
    12 мин
  </span></div> <span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.7K</span></span></div> <div class="tm-article-snippet__hubs-container"><div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a class="tm-article-snippet__hubs-item-link" href="/ru/hub/zadachki/"><span>Занимательные задачки</span> <!-- --></a></span><span class="tm-article-snippet__hubs-item"><a class="tm-article-snippet__hubs-item-link" href="/ru/hub/maths/"><span>Математика</span> <span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span></a></span></div></div> <!-- --> <!-- --> <!-- --></div></div> <!-- --> <div class="tm-article-body" data-gallery-root="" lang="ru"><div></div> <div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>Сегодня я хочу рассказать о трёх задачах, практически не связанных друг с другом, и объединённых лишь тем, что все они приводят к распределению случайных дискретных величин, с функцией вероятности, выражающейся через числа Стирлинга первого рода. Это распределение не относится к числу популярных и широко известных, у него даже имени устоявшегося нет. Так что пусть в русскоязычной сети появится статья, в которой будут описаны и контекст, в котором это распределение появляется, и его основные свойства. На нашем пути встретятся перестановки, стохастические цепочки, свёртка распределений, немного алгебры и даже Ага!-момент в конце статьи. </p><p>Приглашаю к чтению тех, кто хочет расширить свой кругозор, или просто любит всякую комбинаторику с вероятностями.</p><h2>Сюжет первый. Рекорды</h2><p>В одном околоматематическом паблике появилась любопытная задачка.</p><blockquote><p>В затылок друг другу выстроились восемь человек. Более высокие загораживают более низких так, что тех не видно. Чему равно математическое ожидание числа людей, которых видно?</p></blockquote><p>Можете, если хотите, переформулировать задачу для видимых домов в микрорайоне с многоэтажной застройкой. </p><p>Попытки во время прогулки оценить возможный ход решения в уме, привели к соображению, что нужно знать распределение людей по высоте, ведь, если оно будет равномерным, то получится один ответ, а если, например, вырожденным (все люди в очереди одинакового роста), то другой, а именно, единица. Нужно пробовать и экспериментировать.</p><p>Так субботняя прогулка привела меня к компьютеру, и через часик была готова нехитрая программка, моделирующая людей в очереди, набором чисел. Она честно перебирает все возможные варианты, коих в очереди из <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/d55/5c6/449/d555c6449405591573d08a4c8b188422.svg" width="12"/>человек будет <img alt="k^n" class="formula inline" height="18" source="k^n" src="https://habrastorage.org/getpro/habr/upload_files/6a9/a5c/c2c/6a9a5cc2c51bd732c02feebf2bc1e70c.svg" width="21"/>, если люди имеют <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/7d3/1e2/801/7d31e2801fbbec369d3627b70d04d354.svg" width="10"/> различных значений роста, вычисляет количество видимого народа, и даже учитывает распределение людей по росту и ведёт статистику. С её помощью быстро удалось просчитать разные варианты, и они говорили о том, что, всё-таки, для ответа нам нужно знать то, каким именно будет распределение вероятности для высоты людей. То есть, ответ зависит от этого распределения и одним числом его не выразить.</p><p>Увлёкшись, я даже воспользовался статистикой по длине нынешнего народонаселения из одной <a href="https://habr.com/ru/post/466123/" rel="noopener noreferrer nofollow">статьи</a> на Хабре, и подставил её в программу. И вот тут я с удивлением обнаружил, что от конкретного выбора распределения ответ меняется, но как-то... неубедительно. Гораздо больше на него влияет <em>количество разнообразных вариантов</em> роста, или, выражаясь более формально, мощность носителя распределения. Более того, по мере увеличения числа этих вариантов, среднее число видимых людей неспешно сходится к некоторому значению, фиксированному для длины очереди.</p><p>Размышления о распределении для роста завели меня не туда. А тем временем, один из комментаторов уже выдал ответ, причём, для меня несколько неожиданный. Среднее количество видимых людей в очереди, по его версии, оказалось равно гармоническому числу (частичной сумме гармонического ряда): </p><img alt="H_8 = 1 + \frac12 + \frac13 +  ... + \frac18." class="formula" height="43" source="H_8 = 1 + \frac12 + \frac13 +  ... + \frac18." src="https://habrastorage.org/getpro/habr/upload_files/3cd/afc/193/3cdafc19300a2e9faa6b6916d4217697.svg" width="222"/><p>Как выяснилось, приведённый результат был тоже получен с помощью численного эксперимента на компьютере. Сравнение этого ответа с моим показало, что оно верно описывает то самое предельное значение, которое получается в случае непрерывной функции распределения роста людей.</p><p>Гармонические числа не так уж часто встречаются в теории вероятностей и в комбинаторике, и я, по-киношному прищурившись, произнёс: "Мне кажется я знаю этого парня..." Похоже, мы имеем дело с распределением, которое можно считать довольно редким и далёким от популярности, в отличие от нормального, экспоненциального, гамма-распределения и прочих устойчивых и высокоэнтропийных звёзд теории вероятностей и статистики. Это распределение <strong>рекордных случайных величин</strong>.</p><figure class="bordered full-width"><img alt="Рекорды в последовательности случайных величин выделены стрелочками." data-src="https://habrastorage.org/getpro/habr/upload_files/bf4/123/7f6/bf41237f6d527658be4616f8d8e903ee.png" height="620" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/bf4/123/7f6/bf41237f6d527658be4616f8d8e903ee.png" title="Рекорды в последовательности случайных величин выделены стрелочками." width="883"/><div><figcaption>Рекорды в последовательности случайных величин выделены стрелочками.</figcaption></div></figure><p><em>Рекордной величиной</em> (или просто рекордом) в последовательности случайных величин называется величина, которая превосходит все предыдущие. А ведь это же именно наш случай! Каждый верзила, загораживающий впереди стоящих, это очередной рекорд по высоте.<br/><br/>Я рассматривал варианты всех возможных очередей с людьми, рост которых округлён до некоторых дискретных значений. При этом, в очереди могли оказываться люди с одинаковым (при округлении до 5 или 10 см) ростом. Если мы примем, что рост не округлён и мы имеем дело с непрерывным распределением, то точное совпадение по росту имеет вероятность, эффективно равную нулю, а значит, в очереди все люди будут иметь различный рост. В таком случае, уже не важно, как именно он распределён: мы всегда можем ранжировать их по росту и поставить каждому в соответствие натуральное число, сохраняющее отношение порядка.</p><figure class="full-width"><img alt='Пример ранжирования. Главное не рост, а кто кого выше! Ярко-зелёным цветом выделены рекордные значения, "загораживающие" остальные, если смотреть слева направо.' data-src="https://habrastorage.org/getpro/habr/upload_files/466/c8e/4e9/466c8e4e91a27b8a01751b8f2e100045.png" height="813" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/466/c8e/4e9/466c8e4e91a27b8a01751b8f2e100045.png" title='Пример ранжирования. Главное не рост, а кто кого выше! Ярко-зелёным цветом выделены рекордные значения, "загораживающие" остальные, если смотреть слева направо.' width="1071"/><div><figcaption>Пример ранжирования. Главное не рост, а кто кого выше! Ярко-зелёным цветом выделены рекордные значения, "загораживающие" остальные, если смотреть слева направо.</figcaption></div></figure><p>Если мы заменим настоящий рост людей на их порядковый номер в ранжировании по росту, то ответ на вопрос: "Кто кого загораживает?" или, что то же самое: "Кто является рекордсменом?" не изменится. Таким образом, мы можем смело забыть о конкретном распределении, лишь бы оно было непрерывным, и свести задачу от перебора <img alt="k^n" class="formula inline" height="18" source="k^n" src="https://habrastorage.org/getpro/habr/upload_files/bba/783/a2c/bba783a2c69ddabba9cf126355d67e5a.svg" width="21"/>вариантов, к перебору перестановок из <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/015/824/710/0158247103a36d16e63d9932b0bb413c.svg" width="12"/> различимых элементов, которых, как известно, <img alt="n!" class="formula inline" height="18" source="n!" src="https://habrastorage.org/getpro/habr/upload_files/a12/30c/7c9/a1230c7c9c0453bb5e14e51fc5534469.svg" width="17"/> штук. Итак, задача наша формализуется следующим образом: </p><blockquote><p><em>Найти распределение для числа рекордов в перестановках длины</em> n. </p></blockquote><p>В комбинаторике полезно поиграть с исследуемой системой на малых числах. Посмотрим на то, как рекорды распределяются в перестановках длины 2, 3 и 4:</p><a class="anchor" id="hist" name="hist"></a><figure class="full-width"><img alt="Гистограммы для числа рекордов в перестановках. Рекордные величины, возникающие при чтении чисел слева направо, выделены жирным шрифтом." data-src="https://habrastorage.org/getpro/habr/upload_files/39b/bc1/a22/39bbc1a22cb5f3022d572818b650a623.png" height="1008" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/39b/bc1/a22/39bbc1a22cb5f3022d572818b650a623.png" title="Гистограммы для числа рекордов в перестановках. Рекордные величины, возникающие при чтении чисел слева направо, выделены жирным шрифтом." width="2080"/><div><figcaption>Гистограммы для числа рекордов в перестановках. Рекордные величины, возникающие при чтении чисел слева направо, выделены жирным шрифтом.</figcaption></div></figure><p>Пусть <img alt="R(n,k)" class="formula inline" height="22" source="R(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/b98/c52/42f/b98c5242fbeee67eaec4099e7a7b9c11.svg" width="61"/> это количество перестановок длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/6c8/402/bac/6c8402bac79dbbc4bc45b18462afd2d9.svg" width="12"/> таких, чтобы количество рекордов в них было равно <img alt="k." class="formula inline" height="17" source="k." src="https://habrastorage.org/getpro/habr/upload_files/c52/4d4/77a/c524d477a3f185d760478650233b2e91.svg" width="16"/> Выясним, чему будет равно <img alt="R(n+1,k)," class="formula inline" height="22" source="R(n+1,k)," src="https://habrastorage.org/getpro/habr/upload_files/ebe/189/b14/ebe189b144d9e110713fe2443bd19785.svg" width="100"/> то есть, сколько будет способов получить <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/74b/a2c/c2c/74ba2cc2c9225b81e2ee854675a5cd40.svg" width="10"/> рекордов, если мы добавим в перестановку ещё один элемент. Если его величина превышает все уже задействованные числа, то мы можем поставить его в конце последовательности и количество способов получить <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/c04/26a/1c8/c0426a1c81faa2fee840cd6e169455f9.svg" width="10"/> рекордов будет равно <img alt="R(n,k-1)," class="formula inline" height="22" source="R(n,k-1)," src="https://habrastorage.org/getpro/habr/upload_files/0cb/e14/fc9/0cbe14fc9cbcff83aa47dd269290ca37.svg" width="100"/> <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/d4b/42b/e22/d4b42be22608b008cb6dc747ed7d6e87.svg" width="10"/>-тым рекордом будет этот последний элемент. Если же его величина оказывается где-то посередине, то существует ровно <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/828/ff1/136/828ff1136be8776f7887afd45d4696d7.svg" width="12"/> способов его поставить так, чтобы в любом из уже рассмотренных <img alt="R(n,k)" class="formula inline" height="22" source="R(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/378/0f8/dba/3780f8dba5d00bb83f15fb7a73c62117.svg" width="61"/> вариантов он оказался загорожен каким-нибудь рекордом и не нарушил числа <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/237/c13/be3/237c13be3dd964a309efbd7ceba98e17.svg" width="10"/>. Таким образом, получается, что</p><img alt="R(n+1,k) = nR(n,k)+R(n,k-1)." class="formula" height="22" source="R(n+1,k) = nR(n,k)+R(n,k-1)." src="https://habrastorage.org/getpro/habr/upload_files/942/6be/161/9426be161eee1accff203a9d995166f7.svg" width="318"/><p>Если в последовательности всего один элемент, то <img alt="R(1,1)=1." class="formula inline" height="22" source="R(1,1)=1." src="https://habrastorage.org/getpro/habr/upload_files/cd4/5b9/eb9/cd45b9eb9282b63e6195c13d35e4ba8d.svg" width="100"/> Кроме того, есть пара тривиальных граничных значений для отсутствия рекордов и отсутствия людей в очереди:<img alt="R(n,0) = R(0,k)=0." class="formula inline" height="22" source="R(n,0) = R(0,k)=0." src="https://habrastorage.org/getpro/habr/upload_files/b38/205/5c7/b382055c7f6cf6c11ded93d45d1e0c79.svg" width="187"/> </p><p>Итак, мы получили ответ в форме рекуррентного соотношения. Оно в точности совпадает с определением  <strong>беззнаковых чисел Стирлинга первого рода</strong>. Для них принято обозначение, похожее на число сочетаний, только в квадратных скобках. Определяются они так:</p><img alt="\begin{eqnarray*}&amp;{{n}\brack{k}} =  (n-1) {{n-1} \brack {k}} + {{n-1} \brack {k-1}},\\&amp; {{0}\brack{0}} = 1,\quad {{n}\brack{0}} = {{0}\brack{k}} = 0.\end{eqnarray*}" class="formula" height="103" source="\begin{eqnarray*}&amp;{{n}\brack{k}} =  (n-1) {{n-1} \brack {k}} + {{n-1} \brack {k-1}},\\&amp; {{0}\brack{0}} = 1,\quad {{n}\brack{0}} = {{0}\brack{k}} = 0.\end{eqnarray*}" src="https://habrastorage.org/getpro/habr/upload_files/d50/0ce/a73/d500cea734632e4892901f6c32f01442.svg" width="288"/><p>Всех перестановок, как мы помним, <img alt="n!" class="formula inline" height="18" source="n!" src="https://habrastorage.org/getpro/habr/upload_files/232/5d9/5d3/2325d95d3c0f0d1ec3ebb6e718719140.svg" width="17"/> штук, так что можно от количества перестановок с указанным числом рекордов, перейти к вероятностям. </p><figure class="full-width"><img alt="Вот как выглядит распределение рекордов и его среднее значение для первой дюжины значений n." data-src="https://habrastorage.org/getpro/habr/upload_files/133/ce1/015/133ce101562e9543bd788f82fdfd3217.gif" height="400" src="https://habrastorage.org/getpro/habr/upload_files/133/ce1/015/133ce101562e9543bd788f82fdfd3217.gif" title="Вот как выглядит распределение рекордов и его среднее значение для первой дюжины значений n." width="600"/><div><figcaption>Вот как выглядит распределение рекордов и его среднее значение для первой дюжины значений n.</figcaption></div></figure><p>Я позволю себе называть это распределение именем Стирлинга и обозначу <img alt="Stirling(n)" class="formula inline" height="22" source="Stirling(n)" src="https://habrastorage.org/getpro/habr/upload_files/127/80a/c35/12780ac359f60b9b3c72c676b6cb0770.svg" width="96"/>. Было бы разумным называть гармоническим распределением, но это имя уже <a href="https://wiki5.ru/wiki/Harmonic_distribution" rel="noopener noreferrer nofollow">занято</a>. Перечислим основные характеристики распределения Стирлинга. </p><p><strong>Носитель распределения:</strong> <img alt="X \in 1,2,..,n." class="formula inline" height="20" source="X \in 1,2,..,n." src="https://habrastorage.org/getpro/habr/upload_files/7c7/558/2ff/7c75582fffa560d9f09d4aabc5d997cb.svg" width="121"/></p><p><strong>Функция вероятности:</strong></p><img alt="\mathbb{P}[X] = \frac{1}{n!}{n \brack k}." class="formula" height="50" source="\mathbb{P}[X] = \frac{1}{n!}{n \brack k}." src="https://habrastorage.org/getpro/habr/upload_files/047/372/a25/047372a25975312d72ed01291cb0a118.svg" width="128"/><p><strong>Среднее</strong>:</p><img alt="\mathbb{E}[X] = H_n ,\quad H_{n} = 1 + \frac{1}{2} + \frac{1}{3} + \dots + \frac{1}{n}." class="formula" height="43" source="\mathbb{E}[X] = H_n ,\quad H_{n} = 1 + \frac{1}{2} + \frac{1}{3} + \dots + \frac{1}{n}." src="https://habrastorage.org/getpro/habr/upload_files/ba7/d87/60c/ba7d8760c892c778b8183af5805b6342.svg" width="362"/><p><strong>Дисперсия</strong>: </p><img alt="\mathbb{D}[X] = H_n - H_{n,2},\quad H_{n,2} = 1 + \frac{1}{2^2} + \frac{1}{3^2} +\dots + \frac{1}{n^2}." class="formula" height="46" source="\mathbb{D}[X] = H_n - H_{n,2},\quad H_{n,2} = 1 + \frac{1}{2^2} + \frac{1}{3^2} +\dots + \frac{1}{n^2}." src="https://habrastorage.org/getpro/habr/upload_files/b93/500/bff/b93500bffcfbf838d50ba38e69c073e2.svg" width="462"/><p>Функция распределения в конечной форме не выражается, но имея функцию вероятности, несложно вычислить её прямым суммированием.</p><p>Сразу замечу, что то, что среднее для этого распределения выражается гармоническими числами, является его ключевым свойством, о котором мы подробно поговорим ниже. То, что это так, несложно доказать индукцией по <img alt="n." class="formula inline" height="12" source="n." src="https://habrastorage.org/getpro/habr/upload_files/089/352/75a/08935275aefe1a74347bc9c2fb4c533e.svg" width="17"/>Однако, есть и другие способы доказательства, один из них хорошо и подробно изложен в статье Артура Бенджамина с соавторами <a href="https://www.researchgate.net/publication/255616513_A_Stirling_Encounter_with_Harmonic_Numbers" rel="noopener noreferrer nofollow">A Stirling Encounter with Harmonic Numbers</a>, которую я рекомендую тем, кто хочет познакомиться с числами Стирлинга первого рода в контексте комбинаторики.</p><h2>Сюжет второй. Стохастические цепочки</h2><p>С героем нашего рассказа я впервые встретился несколько лет назад, когда решал совсем другую задачу, работая над научно-популярной<a href="https://www.mann-ivanov-ferber.ru/books/veroyatnosti-i-nepriyatnosti/" rel="noopener noreferrer nofollow"> книгой</a> посвящённой законам подлости. Тогда я выяснял, каким будет распределение для длины цепочки последовательных дел, которые можно успеть выполнить до наступления некоторого предельного срока, дедлайна.</p><p>Постановка задачи была такой. Пусть в нашем распоряжении имеется <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/112/a30/625/112a30625a39d6e47deb4371c0321aa1.svg" width="12"/> дней. В этот срок необходимо выполнить некоторую работу, состоящую из цепочки последовательных этапов. Говоря "последовательных" я имею в виду, что <img alt="i" class="formula inline" height="16" source="i" src="https://habrastorage.org/getpro/habr/upload_files/6f0/5d5/614/6f05d5614749f3091f435d37e55c44a7.svg" width="7"/>-тый этап можно выполнить только по завершении <img alt="i-1" class="formula inline" height="18" source="i-1" src="https://habrastorage.org/getpro/habr/upload_files/629/d28/026/629d28026eb32a52d2621e83615bed61.svg" width="41"/>этапа, никакого распараллеливания процессов не предполагается, так что два дела в один день выполнить не удастся. При этом исполнитель придерживается безалаберной, но вполне реалистичной житейской стратегии: в какой-то, произвольно выбранный день, выполняется первый этап работы; второй этап выполняется в один из оставшихся дней, третий — в какой-либо день после второго, и так далее, до тех пор, пока не наступит дедлайн. Я хотел найти вероятность <img alt="p_n(k)" class="formula inline" height="22" source="p_n(k)" src="https://habrastorage.org/getpro/habr/upload_files/c3a/1ab/fda/c3a1abfda3f28bc816518958d586be18.svg" width="47"/> для того, что цепочка будет иметь максимальную длину <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/b94/da9/af2/b94da9af2a51850dd5215c8caaa92227.svg" width="10"/>. Под максимальной длиной подразумевается, что <img alt="k+1" class="formula inline" height="18" source="k+1" src="https://habrastorage.org/getpro/habr/upload_files/f85/bf1/d1f/f85bf1d1fc1448fd0293574b17adcc25.svg" width="44"/> этап выполнить уже не удастся, или, что то же самое, что выполнение <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/4ae/878/5d2/4ae8785d263fb3828e0c13402cf2cf51.svg" width="10"/>-ого этапа приходится на последний <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/5f6/621/393/5f662139352d2fbcaa30751186c3f249.svg" width="12"/>-ный день.</p><p>Мы будем рассуждать, рассматривая размещение точек в обратном порядке. Любая цепочка завершается выполнением последнего этапа в последний день. Вероятность того, что первый и последний этап придётся именно на день с номером <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/9fc/4b9/175/9fc4b9175b5b27c0a8dc7f1f639c6293.svg" width="12"/>, будет равна <img alt="1/n" class="formula inline" height="22" source="1/n" src="https://habrastorage.org/getpro/habr/upload_files/b7b/b57/706/b7bb57706a7890e9c3017368952fc13e.svg" width="31"/>, ведь для нашего безалаберного исполнителя все дни одинаковы. Дальше можно действовать индуктивно. Для произвольного <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/a00/ea3/d5a/a00ea3d5a665a2c6956d603632fddc3d.svg" width="10"/> последний этап обязательно должен случиться в последний день, это, как мы знаем, может случиться с вероятностью <img alt="1/n" class="formula inline" height="22" source="1/n" src="https://habrastorage.org/getpro/habr/upload_files/c84/f7d/cfc/c84f7dcfcf50e46fa4db0f28a261dead.svg" width="31"/>. Потом мы можем выполнить предпоследний этап в любой из предыдущих дней, скажем в день с номером m, сведя при этом задачу к случаю <img alt="k-1" class="formula inline" height="18" source="k-1" src="https://habrastorage.org/getpro/habr/upload_files/e04/117/900/e04117900ccdc5c369602962903304f4.svg" width="44"/> этапов и<em> </em><img alt="n-m" class="formula inline" height="16" source="n-m" src="https://habrastorage.org/getpro/habr/upload_files/d71/617/712/d716177128466a9bbc6cf03f67ae0b19.svg" width="53"/> дней. Выбор <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/a96/4dc/268/a964dc268329d90ad5dc60df9310889c.svg" width="17"/> ограничен сверху числом <img alt="k-2" class="formula inline" height="18" source="k-2" src="https://habrastorage.org/getpro/habr/upload_files/1cd/eba/391/1cdeba391a10596d34ff5031eab05882.svg" width="44"/>, поскольку два этапа — последний и предпоследний — уже на местах. Сложив вероятности всех таких вариантов, мы получим вероятность <img alt="p_n(k). " class="formula inline" height="22" source="p_n(k). " src="https://habrastorage.org/getpro/habr/upload_files/9bd/c8c/394/9bdc8c394f923268dc18963ba9884022.svg" width="52"/>Таким образом, у нас уже есть способ получить точное решение искомой задачи, но для этого нужно знать решения всех входящих в неё подзадач:</p><img alt="\begin{align*}p_0(k)&amp;= p_n(0) = 0,\\p_n(1) &amp;= \frac1n,\\ p_n(k) &amp;= \frac1n\left[p_{n-1}(k-1)+p_{n-2}(k-1)+\dots+p_{k-2}(k-1)\right].\end{align*}" class="formula" height="116" source="\begin{align*}p_0(k)&amp;= p_n(0) = 0,\\p_n(1) &amp;= \frac1n,\\ p_n(k) &amp;= \frac1n\left[p_{n-1}(k-1)+p_{n-2}(k-1)+\dots+p_{k-2}(k-1)\right].\end{align*}" src="https://habrastorage.org/getpro/habr/upload_files/407/151/c7f/407151c7f6b22613940120f3e4d63e40.svg" width="503"/><p>Полученную рекуррентную формулу мне, не без труда, удалось упростить, приведя к форме:</p><a class="anchor" id="prob" name="prob"></a><img alt="p_n(k) = \frac{n-1}{n}p_{n-1}(k)+\frac{1}{n}p_{n-1}(k-1)," class="formula" height="43" source="p_n(k) = \frac{n-1}{n}p_{n-1}(k)+\frac{1}{n}p_{n-1}(k-1)," src="https://habrastorage.org/getpro/habr/upload_files/8e8/3b1/d57/8e83b1d57d60280c14704f3b7d8d9c74.svg" width="334"/><p>которая соответствует распределению Стирлинга.</p><p>То, что ожидаемое число последовательных дел, которые можно успеть выполнить, имея ограниченное время, выражается гармоническим числом, наводит на философские мысли. Гармонические числа растут неограниченно,но чрезвычайно медленно, и имея серьёзные планы на пять, десять или на пятьдесят лет, нужно иметь в виду, что если выполнять их не регулярно, а придерживаясь стратегии "когда-нибудь обязательно сделаю", то и за всю жизнь можно успеть сделать не так уж много.</p><figure class="full-width"><img alt="График роста гармонических чисел" data-src="https://habrastorage.org/getpro/habr/upload_files/0ff/37e/b4a/0ff37eb4afdee43bd1e170b7828a9fe7.png" height="400" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/0ff/37e/b4a/0ff37eb4afdee43bd1e170b7828a9fe7.png" title="График роста гармонических чисел" width="600"/><div><figcaption>График роста гармонических чисел</figcaption></div></figure><h2>Сюжет третий. Циклы в перестановках</h2><figure class="float full-width"><img alt="" data-src="https://habrastorage.org/getpro/habr/upload_files/13b/bdc/662/13bbdc662b2c374271094f1fc1cf51b6.png" height="568" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/13b/bdc/662/13bbdc662b2c374271094f1fc1cf51b6.png" title="" width="584"/></figure><p>В любой справочной или вводной статье, посвящённой числам Стирлинга первого рода, говорится, что они фигурируют в комбинаторике, а именно, отражают количество перестановок, имеющих ровно <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/ff8/f1f/5c7/ff8f1f5c74c6061e3d48bc6468628ecb.svg" width="10"/> циклов. Напомню, что любую перестановку можно однозначно представить в виде произведения непересекающихся циклов. Например, перестановка <img alt="(3\ 2\ 4\ 1\ 6\ 5)" class="formula inline" height="22" source="(3\ 2\ 4\ 1\ 6\ 5)" src="https://habrastorage.org/getpro/habr/upload_files/211/b71/047/211b710476bd4b50954616e2a2798823.svg" width="99"/>содержит в себе такие циклы: <img alt="1 \to 3\to 4\to 1" class="formula inline" height="17" source="1 \to 3\to 4\to 1" src="https://habrastorage.org/getpro/habr/upload_files/bca/a24/7f6/bcaa247f620771a50ff6f8a08ec452d3.svg" width="131"/> и <img alt="5\to 6\to 5" class="formula inline" height="17" source="5\to 6\to 5" src="https://habrastorage.org/getpro/habr/upload_files/2db/0ca/6bc/2db0ca6bc2246f31ed2becc85128a1e8.svg" width="91"/> и одну неподвижную точку 2, которую можно считать тривиальным циклом. На иллюстрации она показана в форме подстановки, для наглядности.</p><p>То что количество циклов связано с числами Стирлинга, доказывается точно такими же, рассуждениями, какими мы вывели рекуррентное соотношение для числа рекордов в последовательности различающихся величин.</p><p>Пусть <img alt="C(n,k)" class="formula inline" height="22" source="C(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/157/cc7/c8e/157cc7c8e452bc065a8927befc0f1696.svg" width="61"/>— это число циклов длины <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/9c5/c3f/d43/9c5c3fd43a8ebfc2451cbe22ef7624f6.svg" width="10"/> в перестановке длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/67d/799/61c/67d79961c4051b3ca3d48ac1f9eb2768.svg" width="12"/>. Увеличим длину перестановки на единицу, и вычислим <img alt="C(n+1,k)" class="formula inline" height="22" source="C(n+1,k)" src="https://habrastorage.org/getpro/habr/upload_files/cd0/144/2be/cd01442be8716559e40976239f192f94.svg" width="95"/>. При этом возможны два случая:</p><ol><li><p>Дополнительный элемент может оказаться неподвижной точкой, и для того, чтобы число <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/f1e/9b0/4fc/f1e9b04fcba10f5c75a8e3a0aec9a293.svg" width="10"/> осталось неизменным, мы должны прибавить этот тривиальный цикл только к тем перестановкам длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/32a/88a/0ac/32a88a0acb908c91f36b1dc252f824f2.svg" width="12"/>, в которых число циклов равно <img alt="k-1" class="formula inline" height="18" source="k-1" src="https://habrastorage.org/getpro/habr/upload_files/7da/745/b59/7da745b5905e9c8bf52bf37b9e7ae935.svg" width="44"/>. Количество таких перестановок <img alt="C(n,k-1)" class="formula inline" height="22" source="C(n,k-1)" src="https://habrastorage.org/getpro/habr/upload_files/59d/903/56c/59d90356cd3ac7a6d70bb21e916149f8.svg" width="95"/>. </p></li><li><p>Новый элемент может войти в перестановку, имеющую <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/e2c/ce3/f2b/e2cce3f2be588865a687be7faa1230f8.svg" width="10"/> циклов, став частью одного из них. Это можно сделать вставив новый элемент между любыми двумя элементами перестановки длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/3f2/be0/b6e/3f2be0b6e623096a65b4b26a6c058879.svg" width="12"/>, в том числе, между последним и первым элементами, которые могут входить в один цикл. Таким образом, получается <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/77a/e68/cce/77ae68cce53c7cdd4d769e9eaa007887.svg" width="12"/> различных вариантов добавления элемента, не нарушающих числа циклов, в каждую из <img alt="C(n,k)" class="formula inline" height="22" source="C(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/ce2/5a8/bea/ce25a8beabe034f9c1f8ed2f23cb1a13.svg" width="61"/> перестановок с <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/b4e/868/3d5/b4e8683d571e276dc46a48b8450cb5c4.svg" width="10"/> циклами. Так мы получаем ещё <img alt="nC(n,k)" class="formula inline" height="22" source="nC(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/2f3/633/a54/2f3633a540497af15044bb645216f9f9.svg" width="73"/> перестановок.</p></li></ol><p>Складывая эти два результата, мы вновь получим рекуррентное соотношение для беззнаковых чисел Стирлинга первого рода:</p><img alt="C(n+1,k) = nC(n,k)+C(n,k-1)." class="formula" height="22" source="C(n+1,k) = nC(n,k)+C(n,k-1)." src="https://habrastorage.org/getpro/habr/upload_files/3c7/045/f13/3c7045f13e9aad9c34d25119ec4e02a7.svg" width="318"/><p>Осталось заметить, что перестановка с единственным элементом имеет единственный цикл <img alt="C(1,1) = 1" class="formula inline" height="22" source="C(1,1) = 1" src="https://habrastorage.org/getpro/habr/upload_files/dbc/1d9/255/dbc1d9255129bf3365d669fe7b9e48ca.svg" width="95"/>, и что не существует перестановок без циклов, а также циклов без элементов в перестановке: <img alt="C(n,0) = C(0,k) = 0." class="formula inline" height="22" source="C(n,0) = C(0,k) = 0." src="https://habrastorage.org/getpro/habr/upload_files/c8f/211/5e0/c8f2115e04f1c934371dc11c81aefb63.svg" width="187"/></p><p>Совпадение формул,и даже приводящих к ним рассуждений, может создать ощущение, что число циклов и число рекордов должны быть как-то связаны. Но если мы посмотрим на то, как по количеству рекордов и циклов перестановки делятся на классы, то увидим, что эти классы имеют одинаковую мощность, однако между ними есть "беглые" элементы.</p><figure class="full-width"><img alt="Цветом обозначены элементы классов эквивалентности по количеству рекордов. Перестановки здесь приведены в виде композиции циклов." data-src="https://habrastorage.org/getpro/habr/upload_files/a18/bd6/dd3/a18bd6dd391a25b7939f435e6fbe5a23.png" height="1534" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/a18/bd6/dd3/a18bd6dd391a25b7939f435e6fbe5a23.png" title="Цветом обозначены элементы классов эквивалентности по количеству рекордов. Перестановки здесь приведены в виде композиции циклов." width="1756"/><div><figcaption>Цветом обозначены элементы классов эквивалентности по количеству рекордов. Перестановки здесь приведены в виде композиции циклов.</figcaption></div></figure><h2>Что же объединяет эти сюжеты?</h2><p>Рассмотренные нами три задачи не сводятся друг к другу. В каждой из них к числам Стирлинга приводит свой путь. И хотя в случае подсчёта рекордов и циклов в перестановках, рассуждения были одинаковыми, различия в получающихся классах эквивалентности говорят о том, что эти задачи можно считать независимыми. Как же связаны рекорды, стохастические цепочки и циклы в перестановках? Оказывается, объединяет их алгебра многочленов.</p><p>Роберт Стирлинг, работавший в начале XIX века, оставил своё имя в науке, дав его <a href="https://ru.wikipedia.org/wiki/%D0%94%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D1%8C_%D0%A1%D1%82%D0%B8%D1%80%D0%BB%D0%B8%D0%BD%D0%B3%D0%B0" rel="noopener noreferrer nofollow">машине внешнего сгорания</a>, знаменитой <a href="https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%BC%D1%83%D0%BB%D0%B0_%D0%A1%D1%82%D0%B8%D1%80%D0%BB%D0%B8%D0%BD%D0%B3%D0%B0" rel="noopener noreferrer nofollow">формуле</a> для аппроксимации факториала, и коэффициентам в разложении полиномов, известных, как восходящие факториалы. Эти-то коэффициенты и входят в распределение, которое мы обсуждаем в этой статье.<br/><br/><strong>Восходящим факториалом</strong> называют многочлены следующего вида:</p><img alt="\begin{align*}&amp;\begin{array}{rclcl}(x)^1 &amp;=&amp; x\\(x)^2 &amp;=&amp;  x(x+1) &amp;=&amp; x^2+x\\(x)^3 &amp;=&amp; x(x+1)(x+2) &amp;=&amp; x^3+3x^2+2x,\\(x)^4 &amp;=&amp; x(x+1)(x+2)(x+3) &amp;=&amp; x^4+6x^3+11x^2+6x\end{array}\\&amp;(x)^n\ \ \ =\ \ \ x(x+1)(x+2)...(x+n-1)(x+n) =\\ &amp;\quad\quad\ \ \,=\ \ (x)^{n-1}(x+n)\end{align*}" class="formula" height="166" source="\begin{align*}&amp;\begin{array}{rclcl}(x)^1 &amp;=&amp; x\\(x)^2 &amp;=&amp;  x(x+1) &amp;=&amp; x^2+x\\(x)^3 &amp;=&amp; x(x+1)(x+2) &amp;=&amp; x^3+3x^2+2x,\\(x)^4 &amp;=&amp; x(x+1)(x+2)(x+3) &amp;=&amp; x^4+6x^3+11x^2+6x\end{array}\\&amp;(x)^n\ \ \ =\ \ \ x(x+1)(x+2)...(x+n-1)(x+n) =\\ &amp;\quad\quad\ \ \,=\ \ (x)^{n-1}(x+n)\end{align*}" src="https://habrastorage.org/getpro/habr/upload_files/b0f/62e/80b/b0f62e80b396dc4f68754bf739154bf9.svg" width="532"/><p>Сравните коэффициенты в этих многочленах с <a href="#hist" rel="noopener noreferrer nofollow">гистограммами</a>, полученными нами для перестановок. В том, что это, действительно, числа Стирлинга первого рода, легко убедиться, раскрыв скобки в выражении, определяющем <img alt="(x) ^n" class="formula inline" height="22" source="(x) ^n" src="https://habrastorage.org/getpro/habr/upload_files/ede/da9/0bf/ededa90bfecafe387aa0ea2f12d874f0.svg" width="37"/>:</p><img alt="(x)^n = (x)^{n-1}(x+n) = x(x)^{n-1} + n(x)^{n-1}." class="formula" height="25" source="(x)^n = (x)^{n-1}(x+n) = x(x)^{n-1} + n(x)^{n-1}." src="https://habrastorage.org/getpro/habr/upload_files/0e1/6e5/ec3/0e16e5ec3d00cceff64ee3f75fcb660f.svg" width="368"/><p>Если вычислить коэффициент при <img alt="x^k" class="formula inline" height="21" source="x^k" src="https://habrastorage.org/getpro/habr/upload_files/4d8/ec1/210/4d8ec12106203617f43d89cbbcc6907b.svg" width="20"/>в  <img alt="(x)^n," class="formula inline" height="22" source="(x)^n," src="https://habrastorage.org/getpro/habr/upload_files/6af/a2a/15f/6afa2a15fdd05ebb080e8aca445c8819.svg" width="42"/>обозначив его, как <img alt="s(n,k)" class="formula inline" height="22" source="s(n,k)" src="https://habrastorage.org/getpro/habr/upload_files/230/921/7a6/2309217a66654a3e6dd8c87575612043.svg" width="55"/>, то получится знакомое выражение:</p><img alt="s(n,k) = s(n-1,k-1) + ns(n-1,k)." class="formula" height="22" source="s(n,k) = s(n-1,k-1) + ns(n-1,k)." src="https://habrastorage.org/getpro/habr/upload_files/017/645/ef4/017645ef419b0f4d60fa4c78c995966d.svg" width="335"/><p>Поделив восходящий факториал <img alt="(x) ^n" class="formula inline" height="22" source="(x) ^n" src="https://habrastorage.org/getpro/habr/upload_files/2a1/54a/0fc/2a154a0fc5f03eeb7018210df62b5e2d.svg" width="37"/>на <img alt="(1) ^n=n! " class="formula inline" height="22" source="(1) ^n=n! " src="https://habrastorage.org/getpro/habr/upload_files/988/f28/11c/988f2811ceae1cdf43b8e7872ff3427d.svg" width="79"/>, получим многочлен в котором коэффициенты при <img alt="x^k" class="formula inline" height="21" source="x^k" src="https://habrastorage.org/getpro/habr/upload_files/baa/cf6/831/baacf683197b1e3fc92b0630f2008a8a.svg" width="20"/> равны вероятностям для числа <img alt="k" class="formula inline" height="17" source="k" src="https://habrastorage.org/getpro/habr/upload_files/2c6/4bf/4f5/2c64bf4f51b2113f96c3a6ee45c847a0.svg" width="10"/> в распределении Стирлинга: </p><img alt="\frac{(x)^n}{n!} =\sum\limits_{k=0}^{n}\frac{1}{n!}{n \brack k}x^k." class="formula" height="58" source="\frac{(x)^n}{n!} =\sum\limits_{k=0}^{n}\frac{1}{n!}{n \brack k}x^k." src="https://habrastorage.org/getpro/habr/upload_files/d29/d28/391/d29d2839116224c54d2808580da600df.svg" width="185"/><p>Такие многочлены называются <strong>производящими функциями вероятности</strong> для дискретного распределения. </p><p>Но при чём тут рассмотренные нами задачи? Давайте присмотримся к тому факту, что математическое ожидание для случайной величины, подчиняющейся распределению Стирлинга, равно гармоническому числу, то есть, сумме дробей:</p><img alt="\mathbb{E}[Stirling(n)] = 1 + \frac12 + \frac13 +  ... + \frac1n." class="formula" height="43" source="\mathbb{E}[Stirling(n)] = 1 + \frac12 + \frac13 +  ... + \frac1n." src="https://habrastorage.org/getpro/habr/upload_files/906/503/1ce/9065031ce0525b243bcc2ab09b9f8378.svg" width="319"/><p>Математическое ожидание линейно, это значит, что матожидание для суммы случайных величин равно сумме матожиданий для каждой из них. Это наводит на мысль: не является ли распределение Стирлинга распределением для суммы случайных величин, каждая из которых имеет математическое ожидание, равное <img alt="1/n" class="formula inline" height="22" source="1/n" src="https://habrastorage.org/getpro/habr/upload_files/f25/dd9/8e3/f25dd98e31753e3dce04b419b5684742.svg" width="31"/>? </p><p>Распределение для суммы случайных величин вычисляется, как <strong>свёртка</strong> их распределений. Свёртка — не самая интуитивно понятная операция, но в случае дискретных распределений мы можем воспользоваться тем, что коэффициенты произведения многочленов представляют свёртку последовательностей коэффициентов этих многочленов. Значит, произведение производящих функций вероятности для двух распределений будет производящей функцией для их свёртки. </p><p>Например, многочлен с коэффициентами, соответствующими распределению Бернулли с вероятностью <img alt="p" class="formula inline" height="15" source="p" src="https://habrastorage.org/getpro/habr/upload_files/967/ba4/6cb/967ba46cba57311e73b3c8f9f144b04b.svg" width="11"/>, имеет вид <img alt="px+(1-p)" class="formula inline" height="22" source="px+(1-p)" src="https://habrastorage.org/getpro/habr/upload_files/293/189/9ae/2931899ae325d25982a0d65e716893f2.svg" width="105"/>. Свёрткой <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/aeb/491/eb8/aeb491eb8cfb503303475f86c9d945da.svg" width="12"/> бернуллиевых величин будет произведение этих многочленов, или, согласно биномиальной формуле:</p><img alt="(px+(1-p))^n = \sum\limits_{k=0}^n\binom{n}{k}p^k(1-p)^{n-k}x^k." class="formula" height="58" source="(px+(1-p))^n = \sum\limits_{k=0}^n\binom{n}{k}p^k(1-p)^{n-k}x^k." src="https://habrastorage.org/getpro/habr/upload_files/f2c/468/a7f/f2c468a7fb343f08bbed2b66fbdb2126.svg" width="361"/><p>В коэффициентах этого многочлена мы без труда разглядим биномиальное распределение. </p><p>Вооружившись этим знанием, давайте перепишем выражение для производящей функции для распределения Стирлинга таким образом:</p><img alt="\frac{(x)^n}{n!} = (1\cdot x + 0)\left(\frac12x+\frac12\right)\left(\frac{1}{3}x+\frac23\right)...\left[\frac{1}{n}x+\left(1-\frac{1}{n}\right)\right]." class="formula" height="50" source="\frac{(x)^n}{n!} = (1\cdot x + 0)\left(\frac12x+\frac12\right)\left(\frac{1}{3}x+\frac23\right)...\left[\frac{1}{n}x+\left(1-\frac{1}{n}\right)\right]." src="https://habrastorage.org/getpro/habr/upload_files/00d/663/785/00d663785f7aeb8df0cfd64251e275da.svg" width="552"/><p>Теперь видно, что каждый множитель здесь — это производящая функция вероятности для распределения Бернулли с параметрами <img alt="1, 1/2, 1/3, ... 1/n " class="formula inline" height="22" source="1, 1/2, 1/3, ... 1/n " src="https://habrastorage.org/getpro/habr/upload_files/a0a/cdf/274/a0acdf274f097f4678361895aecdd35c.svg" width="153"/>. Таким образом, мы можем сделать важный вывод:</p><blockquote><p><em>Сумма случайных величин, подчиняющихся распределениям Бернулли с гармонично убывающими вероятностями, подчиняется распределению Стирлинга</em>:</p></blockquote><img alt="X_k \sim Bernoulli\left(\frac1k\right),\quad \sum\limits_{k=1}^{n} X_k\sim Stirling(n)." class="formula" height="57" source="X_k \sim Bernoulli\left(\frac1k\right),\quad \sum\limits_{k=1}^{n} X_k\sim Stirling(n)." src="https://habrastorage.org/getpro/habr/upload_files/4da/87d/2b8/4da87d2b8462624e877dbc62fda7a815.svg" width="402"/><figure class="full-width"><img alt="Демонстрация получения распределении Стирлинга через свёртку с распределениями Бернулли." data-src="https://habrastorage.org/getpro/habr/upload_files/22c/a9e/27f/22ca9e27f86bd911044eb9360da77136.gif" height="400" src="https://habrastorage.org/getpro/habr/upload_files/22c/a9e/27f/22ca9e27f86bd911044eb9360da77136.gif" title="Демонстрация получения распределении Стирлинга через свёртку с распределениями Бернулли." width="600"/><div><figcaption>Демонстрация получения распределении Стирлинга через свёртку с распределениями Бернулли.</figcaption></div></figure><p>Методом "пристального всматривания", можно разглядеть это свойство в рекуррентной <a href="#prob" rel="noopener noreferrer nofollow">формуле</a> для вероятности длины стохастической цепочки с дедлайном, в индуктивной форме:</p><img alt="Stirling(n-1) \circ Bernoulli\left(\frac1n\right) \sim Stirling(n)," class="formula" height="50" source="Stirling(n-1) \circ Bernoulli\left(\frac1n\right) \sim Stirling(n)," src="https://habrastorage.org/getpro/habr/upload_files/2e9/97e/f37/2e997ef37544a5542f5c8da3e4e0cbd0.svg" width="412"/><p>где кружком обозначен оператор свёртки. Именно этот итерационный процесс показан на анимации.</p><figure class="full-width"><img alt="Вот как выглядит комбинаторная схема суммирования четырёх случайных величин, подчинённых распределениям Бернулли с вероятностями 1,1/2? 1/3 и 1/4." data-src="https://habrastorage.org/getpro/habr/upload_files/cdd/531/278/cdd531278f5ee7d4b848854fe8d604e8.png" height="810" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/cdd/531/278/cdd531278f5ee7d4b848854fe8d604e8.png" title="Вот как выглядит комбинаторная схема суммирования четырёх случайных величин, подчинённых распределениям Бернулли с вероятностями 1,1/2? 1/3 и 1/4." width="1338"/><div><figcaption>Вот как выглядит комбинаторная схема суммирования четырёх случайных величин, подчинённых распределениям Бернулли с вероятностями 1,1/2? 1/3 и 1/4.</figcaption></div></figure><p>Эта связь с распределением Бернулли и есть основное свойство распределения Стирлинга, которое кроется во всех трёх задачах и "уши" которого "торчат" в выражении для среднего значения. Похоже, что в каждой из них мы имеем дело с суммами случайных величин, подчиняющиеся распределению Бернулли с параметром <img alt="1/n" class="formula inline" height="22" source="1/n" src="https://habrastorage.org/getpro/habr/upload_files/330/945/4cc/3309454cc7594489e6043f5a2953f171.svg" width="31"/>. Давайте выясним, что это за величины для каждого из трёх сюжетов.</p><h3>Циклы</h3><p>Применительно к циклам в перестановках, нетрудно показать, что вероятность в случайной перестановке длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/5e0/418/54f/5e041854f25ce14eb1c019e5a459e0b6.svg" width="12"/> встретить цикл длины <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/d61/4c0/db5/d614c0db5c4abec65d3b2778db9fdeeb.svg" width="17"/> равна <img alt="1/m" class="formula inline" height="22" source="1/m" src="https://habrastorage.org/getpro/habr/upload_files/df4/18c/4fe/df418c4fe11aeadd48ff15121037c686.svg" width="37"/>. </p><p>Действительно, среди всех возможных <img alt="n!" class="formula inline" height="18" source="n!" src="https://habrastorage.org/getpro/habr/upload_files/834/515/cca/834515cca09f94e35aae443fba7df81c.svg" width="17"/> перестановок, <img alt="(n-m)!" class="formula inline" height="22" source="(n-m)!" src="https://habrastorage.org/getpro/habr/upload_files/691/e06/5f9/691e065f95679462053b4d723d150df0.svg" width="74"/> содержат некоторый конкретный цикл длины <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/7e5/631/b46/7e5631b46bae6cd010906a478725a9b0.svg" width="17"/>. При этом существует <img alt="\binom{n}{m}" class="formula inline" height="50" source="\binom{n}{m}" src="https://habrastorage.org/getpro/habr/upload_files/bd0/158/e61/bd0158e613c4b80fb516e53864a82ff2.svg" width="46"/>способов наполнить этот цикл элементами и <img alt="m!/m" class="formula inline" height="22" source="m!/m" src="https://habrastorage.org/getpro/habr/upload_files/45e/bfa/b54/45ebfab54004b18c9678f439bb5c9373.svg" width="50"/> способов переставить в нём элементы, получая уникальные циклы (деление на <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/ffe/841/3d9/ffe8413d9e1a1f6ce8db0d29bb4e14f7.svg" width="17"/> исключает одинаковые циклы, отличающиеся друг от друга лишь циклической перестановкой). Итого, вероятность обнаружить цикл длины <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/24e/9da/d50/24e9dad50f754cfe55abec9ccfbd8b03.svg" width="17"/> равна:</p><img alt="\frac{(n-m)!}{n!} \binom{n}{m}\frac{m!}{m} = \frac{(n-m)!}{n!} \frac{n!}{m!(n-m)!} \frac{m!}{m} = \frac{1}{m}." class="formula" height="51" source="\frac{(n-m)!}{n!} \binom{n}{m}\frac{m!}{m} = \frac{(n-m)!}{n!} \frac{n!}{m!(n-m)!} \frac{m!}{m} = \frac{1}{m}." src="https://habrastorage.org/getpro/habr/upload_files/a76/b85/817/a76b8581742360e572dab9f98f6f8972.svg" width="453"/><h3>Рекорды</h3><p>Вероятность того, что в перестановке длины <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/a26/f2d/48c/a26f2d48cd91fba8bb8b9264c650f09a.svg" width="12"/> рекордом будет конкретное число <img alt="m \in [1,n]" class="formula inline" height="22" source="m \in [1,n]" src="https://habrastorage.org/getpro/habr/upload_files/67e/628/9fc/67e6289fc3ae9efb604b68436fed8a3d.svg" width="83"/>, равна <img alt="1/(n-m+1)." class="formula inline" height="22" source="1/(n-m+1)." src="https://habrastorage.org/getpro/habr/upload_files/7c6/1fb/092/7c61fb092434267ba2d0638fea76098a.svg" width="127"/>Убедиться в этом можно пересчитав сколько раз рекордными оказывались числа 1, 2, 3 и 4 в примерах, приведённых на <a href="#hist" rel="noopener noreferrer nofollow">иллюстрации</a>, показывающей гистограммы для числа рекордов в перестановках . </p><p>Число <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/bcc/f91/62f/bccf9162f76e92435d5b2d14df47c47b.svg" width="17"/> может стать рекордом, только если все числа превышающие его, оказываются по правую сторону от его позиции в перестановке, при этом, нас не интересует расположение чисел не превышающих <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/751/373/4f7/7513734f7296167658009c7daa11f531.svg" width="17"/>. Перестановку, в которой число <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/aa9/201/8ad/aa92018adb1e977fb59fc8f616002728.svg" width="17"/> является рекордом, можно схематично показать так: <img alt="(\dots m \dots M_1\dots  M_2\dots  M_{n-m+1}\dots)" class="formula inline" height="22" source="(\dots m \dots M_1\dots  M_2\dots  M_{n-m+1}\dots)" src="https://habrastorage.org/getpro/habr/upload_files/c9c/6d7/70a/c9c6d770a8868287644d2bda87825bba.svg" width="300"/>. Здесь буквами <img alt="M_i" class="formula inline" height="20" source="M_i" src="https://habrastorage.org/getpro/habr/upload_files/db0/e07/89f/db0e0789f8cefaee8ff1745a009fec81.svg" width="26"/> условно обозначены числа превышающие <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/a3a/102/079/a3a1020791aa1813283a633233f6a25b.svg" width="17"/>, количество которых равно <img alt="n-m+1" class="formula inline" height="18" source="n-m+1" src="https://habrastorage.org/getpro/habr/upload_files/bf5/e49/b6b/bf5e49b6b37dd1b151805009ab99b06e.svg" width="87"/>. </p><p>Множество всех перестановок такого вида можно факторизовать, считая эквивалентными те перестановки, в которых последовательность <img alt="M_i" class="formula inline" height="20" source="M_i" src="https://habrastorage.org/getpro/habr/upload_files/b6b/d45/cdf/b6bd45cdf350a92fc6bf27b22bc2b41b.svg" width="26"/> одинакова, не зависимо от их конкретного положения. Все классы эквивалентности будут содержать одинаковое количество элементов, равное</p><img alt="(m-1)!\binom{n}{n-m+1}," class="formula" height="50" source="(m-1)!\binom{n}{n-m+1}," src="https://habrastorage.org/getpro/habr/upload_files/ef8/048/87c/ef804887cb0bdbf9571e80caf0fc6dcc.svg" width="193"/><p>а всего таких классов будет <img alt="(n-m)!" class="formula inline" height="22" source="(n-m)!" src="https://habrastorage.org/getpro/habr/upload_files/1f5/fd3/80b/1f5fd380b1c2773f907904c4b7e2ff38.svg" width="74"/> Перемножив эти два выражения, мы получим общее количество перестановок, в которых число <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/36f/ce6/352/36fce6352828e40731c0fb3b088f5286.svg" width="17"/> является рекордом:</p><img alt="(m-1)!\binom{n}{n-m+1}(n-m)! = \frac{n!}{n-m+1}." class="formula" height="50" source="(m-1)!\binom{n}{n-m+1}(n-m)! = \frac{n!}{n-m+1}." src="https://habrastorage.org/getpro/habr/upload_files/be4/0ba/c98/be40bac981f25b63091869a04bd905b1.svg" width="387"/><p>Поделив его на <img alt="n!" class="formula inline" height="18" source="n!" src="https://habrastorage.org/getpro/habr/upload_files/5ec/751/bdb/5ec751bdbfc0e1dabccf363e8099a274.svg" width="17"/>, получаем искомую вероятность <img alt="1/(n-m+1)." class="formula inline" height="22" source="1/(n-m+1)." src="https://habrastorage.org/getpro/habr/upload_files/9fb/742/071/9fb7420710d5a0cc9b88038dcdea51ea.svg" width="127"/></p><p>Например, в перестановке длиной 4, вероятность того, что число 4 будет рекордом равна 1, для 3 она равна <img alt="1/2" class="formula inline" height="22" source="1/2" src="https://habrastorage.org/getpro/habr/upload_files/c29/a69/7f3/c29a697f3729faf89d9aceb4c66d0d4a.svg" width="29"/> , для 2 — <img alt="1/3" class="formula inline" height="22" source="1/3" src="https://habrastorage.org/getpro/habr/upload_files/5a9/180/485/5a918048576f939d85fbe4185bf9889c.svg" width="29"/>, и для 1 — <img alt="1/4" class="formula inline" height="22" source="1/4" src="https://habrastorage.org/getpro/habr/upload_files/a6e/511/6da/a6e5116dafc26178acb9461d2061fb76.svg" width="29"/>.</p><h3>Стохастические цепочки</h3><p>В результате описанной нами безалаберной стратегии выполнения дел до наступления дедлайна, получаются строго возрастающие последовательности индексов от <img alt="1" class="formula inline" height="17" source="1" src="https://habrastorage.org/getpro/habr/upload_files/58c/fbc/820/58cfbc82016de015eab0ee75a2675acf.svg" width="10"/> до <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/1ae/d25/fa1/1aed25fa1465f820b1c0b638a9163b3e.svg" width="12"/>, соответствующих этапам работы. В качестве примера, перечислим все возможные последовательности этапов для четырёх дней:</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/74d/9da/85e/74d9da85e22a40268d4c26e862df51ae.png" height="174" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/74d/9da/85e/74d9da85e22a40268d4c26e862df51ae.png" width="1982"/></figure><p>Если бы расположение этапов по дням было независимым друг от друга, то все эти восемь вариантов были бы равновероятны, и мы получили бы биномиальное распределение для длин цепочек. Однако, время выполнения этапов в цепочках зависит от времени предыдущих этапов. При этом, по мере уменьшения числа оставшихся дней, вероятность выбора конкретного дня для очередного этапа увеличивается:</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/a4f/c5d/d81/a4fc5dd818d1fd2134900b6960e2eb9a.png" height="427" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/a4f/c5d/d81/a4fc5dd818d1fd2134900b6960e2eb9a.png" width="1982"/></figure><p>Для каждой цепочки эти вероятности перемножаются, в свою очередь, вероятности для цепочек с одинаковым числом этапов, складываются. Так получается распределение вероятности для длин цепочек в случае четырёх дней. Умножив эти вероятности на <img alt="4! = 24," class="formula inline" height="21" source="4! = 24," src="https://habrastorage.org/getpro/habr/upload_files/7db/bd0/047/7dbbd0047b9dff97ba66def531a51cab.svg" width="67"/> мы получим последовательность чисел Стирлинга для <img alt="n = 4" class="formula inline" height="17" source="n = 4" src="https://habrastorage.org/getpro/habr/upload_files/473/813/da3/473813da3df0dddefac3335c8b5ba329.svg" width="48"/>: 6, 11, 6 и 1. </p><p>Если с помощью диаграммы аккуратно вычислить вероятность того, что этап работы придётся на день <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/d6e/372/922/d6e372922f5b969e1cc8674016b40a69.svg" width="17"/>то получим следующее распределение по дням:</p><img alt="\begin{align*} 1\ \text{день}&amp;: \frac{1}{12}+\frac{1}{24}+\frac{1}{12}+\frac{1}{24} &amp;= \frac{1}{4}\\ 2\ \text{день}&amp;: \frac{1}{8}+\frac{1}{24}+\frac{1}{8}+\frac{1}{24} &amp;= \frac{1}{3}\\ 3\ \text{день}&amp;: \frac{1}{4}+\frac{1}{12}+\frac{1}{8}+\frac{1}{24} &amp;= \frac{1}{2}\\ 4\ \text{день}&amp;: \frac{1}{4}+\frac{1}{12}+\frac{1}{8}+\frac{1}{4}+\frac{1}{24}+\frac{1}{12}+\frac{1}{8}+\frac{1}{24} &amp;= 1 \end{align*}" class="formula" height="182" source="\begin{align*} 1\ \text{день}&amp;: \frac{1}{12}+\frac{1}{24}+\frac{1}{12}+\frac{1}{24} &amp;= \frac{1}{4}\\ 2\ \text{день}&amp;: \frac{1}{8}+\frac{1}{24}+\frac{1}{8}+\frac{1}{24} &amp;= \frac{1}{3}\\ 3\ \text{день}&amp;: \frac{1}{4}+\frac{1}{12}+\frac{1}{8}+\frac{1}{24} &amp;= \frac{1}{2}\\ 4\ \text{день}&amp;: \frac{1}{4}+\frac{1}{12}+\frac{1}{8}+\frac{1}{4}+\frac{1}{24}+\frac{1}{12}+\frac{1}{8}+\frac{1}{24} &amp;= 1 \end{align*}" src="https://habrastorage.org/getpro/habr/upload_files/24c/df9/915/24cdf991500111d367a07facd6740bcf.svg" width="488"/><hr/><p>Переводя все наши задачи на классический язык теории вероятностей, можно все их свести к такой канонической форме:</p><blockquote><p>В урне находится <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/ec7/569/b64/ec7569b648e17905fbfc794731a56f21.svg" width="12"/>шаров, пронумерованных числами от 1 до <img alt="n" class="formula inline" height="12" source="n" src="https://habrastorage.org/getpro/habr/upload_files/224/bee/0aa/224bee0aae3b03557cfa3595de982ead.svg" width="12"/>. Доставая из урны по одному шару, составляем из них убывающую последовательность натуральных чисел, игнорируя шары с номерами, превышающими номер, который является текущим минимумом.</p><p>Вероятность того, что конкретный номер <img alt="m" class="formula inline" height="12" source="m" src="https://habrastorage.org/getpro/habr/upload_files/46d/a82/438/46da82438a1936a7c97b007e22fcfebe.svg" width="17"/>окажется в полученной последовательности равна <img alt="1/m" class="formula inline" height="22" source="1/m" src="https://habrastorage.org/getpro/habr/upload_files/df0/065/cba/df0065cba7f194f9e86229aa0b7cfef7.svg" width="37"/>, в силу линейности среднего, ожидаемая длина последовательности выражается гармоническим числом <img alt="H_n" class="formula inline" height="20" source="H_n" src="https://habrastorage.org/getpro/habr/upload_files/f5a/ca9/2e0/f5aca92e0b5c046d2e72f6668ddd3d13.svg" width="27"/>, а длина последовательности подчиняется распределению Стирлинга.</p></blockquote><p></p></div></div></div> <!-- --> <!-- --></div> <!-- --> <!-- --></div> <!-- --> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%87%D0%B8%D1%81%D0%BB%D0%B0%20%D0%A1%D1%82%D0%B8%D1%80%D0%BB%D0%B8%D0%BD%D0%B3%D0%B0%5D">числа Стирлинга</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%B5%D1%80%D0%B5%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B8%5D">перестановки</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%80%D0%B5%D0%BA%D0%BE%D1%80%D0%B4%D0%BE%D0%B2%5D">распределение рекордов</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B3%D0%B0%D1%80%D0%BC%D0%BE%D0%BD%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5%20%D1%87%D0%B8%D1%81%D0%BB%D0%B0%5D">гармонические числа</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%81%D0%B2%D1%91%D1%80%D1%82%D0%BA%D0%B0%5D">свёртка</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%BE%D1%81%D1%85%D0%BE%D0%B4%D1%8F%D1%89%D0%B8%D0%B9%20%D1%84%D0%B0%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B0%D0%BB%5D">восходящий факториал</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%86%D0%B8%D0%BA%D0%BB%D1%8B%20%D0%B2%20%D0%BF%D0%B5%D1%80%D0%B5%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0%D1%85%5D">циклы в перестановках</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D0%BE%D0%BC%D0%B1%D0%B8%D0%BD%D0%B0%D1%82%D0%BE%D1%80%D0%B8%D0%BA%D0%B0%5D">комбинаторика</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%B5%D1%80%D0%BE%D1%8F%D1%82%D0%BD%D0%BE%D1%81%D1%82%D0%B8%5D">вероятности</a></li><li class="tm-separated-list__item"><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B2%D0%B5%D1%80%D0%BE%D1%8F%D1%82%D0%BD%D0%BE%D1%81%D1%82%D0%BD%D1%8B%D0%B5%20%D1%80%D0%B0%D1%81%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F%5D">вероятностные распределения</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a class="tm-hubs-list__link" href="/ru/hub/zadachki/">Занимательные задачки</a></li><li class="tm-separated-list__item"><a class="tm-hubs-list__link" href="/ru/hub/maths/">Математика</a></li></ul></div></div></article></div> <!-- --></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>Всего голосов 21: ↑21 и ↓0</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-rating"></use></svg> <span class="tm-votes-meter__value tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating" title="Всего голосов 21: ↑21 и ↓0">+21</span></div> <div class="v-portal" style="display:none;"></div></div> <!-- --> <!-- --> <button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-favorite"></use></svg></span> <span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">
    31
  </span></button> <div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg class="tm-sharing__icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z" fill="currentColor"></path></svg></button> <div class="v-portal" style="display:none;"></div></div> <div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a class="tm-article-comments-counter-link__link" href="/ru/post/718832/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value">
      6
    </span></a> <!-- --></div> <!-- --> <div class="v-portal" style="display:none;"></div></div></div></div> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!-- --> <div></div> <section class="tm-block tm-block tm-block_spacing-bottom"><!-- --> <div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a class="tm-user-card__userpic tm-user-card__userpic_size-40" href="/ru/users/samsergey/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" src="//habrastorage.org/getpro/habr/avatars/234/002/2cc/2340022cc75806fdd43791b9e18adaff.gif"/></div></a> <div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 198 голосов "><div class="tm-counter-container__header"><div class="tm-karma__votes tm-karma__votes_positive">
      194
    </div></div> <div class="tm-counter-container__footer"><div class="tm-karma__text">
      Карма
    </div> <div class="v-portal" style="display:none;"></div></div></div> <div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"> <div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --> <div class="tm-votes-lever__score tm-votes-lever__score tm-votes-lever__score_appearance-rating"><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter tm-votes-lever__score-counter_rating">
        172.2
      </span></div> <!-- --></div></div> <div class="tm-counter-container__footer"><span class="tm-rating__text tm-rating__text">
      Рейтинг
    </span></div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name tm-user-card__name_variant-article">Сергей Самойленко</span> <a class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article" href="/ru/users/samsergey/">
          @samsergey
        </a> <!-- --></div> <p class="tm-user-card__short-info tm-user-card__short-info tm-user-card__short-info_variant-article">Руководитель, научный сотрудник, преподаватель</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons tm-user-card__buttons_variant-article"><!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div></div> <!-- --></div> <div class="v-portal" style="display:none;"></div></div> <!-- --></section> <div class="tm-adfox-banner__container tm-page-article__banner"><!-- --> <div class="tm-adfox-banner tm-adfox-banner tm-adfox-banner_variant-leaderboard" id="adfox_164725660339535756"></div></div> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" href="/ru/post/718832/comments/"><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>Комментарии</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 6 
    </span></a> <!-- --></div></div></div> <section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2> </div> <!-- --></header> <div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><div class="tm-tabs tm-tabs"><div><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim">
        Лучшие за сутки
      </button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link tm-tabs__tab-link_slim">
        Похожие
      </button></span></div> <!-- --></div> <div class="similar-and-daily__tab-view"><div><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-article-cards"><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div> <div class="tm-placeholder__user-date loads"></div></div> <div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div> <div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div> <div class="tm-placeholder-article-card__icons tm-placeholder__counters"><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div> <div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --></div> <!-- --></div></div> <!-- --></section> <section class="tm-block tm-stories-block tm-block tm-block_spacing-around" data-async-called="true" data-navigatable="" tabindex="0"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Истории</h2> </div> <!-- --></header> <div class="tm-block__body tm-block__body tm-block__body_variant-equal"><div class="tm-stories-empty"><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div> <div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div> <div class="tm-stories-card-empty__title-block"></div></div></div></div> <!-- --></div> <!-- --></section> <div><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-inset tm-placeholder-vacancies"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div> <div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder-list__title-container"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div></div> <div class="tm-project-block-items__properties"><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width: 100px;"></span></span></div></li></ul></div> <div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div> <!-- --> <div><div><!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --> <div class="tm-placeholder-promo"><div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div> <div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div> <div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div> <div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div> <div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div> <div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div> <div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div> <div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div> <div class="tm-placeholder-promo__dot"></div> <div class="tm-placeholder-promo__dot"></div></div></div></div> <!-- --> <!-- --> <!-- --> <!-- --> <!-- --></div></div> <!-- --></div></div></div></div></div> <div class="tm-page__sidebar"><!-- --></div></div></div></div></main> <!-- --></div> <!-- --> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><div class="tm-footer__title"><a class="tm-svg-icon__wrapper tm-footer__title-link router-link-active" href="/ru/"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a></div> <div class="tm-footer__social"><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="16" width="16"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <div class="v-portal" style="display:none;"></div> <button class="tm-footer__link"><svg class="tm-svg-img tm-footer__icon" height="16" width="16"><title>Язык</title> <use xlink:href="/img/megazord-v28.617e16ca..svg#lang"></use></svg>
        Настройка языка
      </button> <a class="tm-footer__link" href="/ru/feedback/">
        Техническая поддержка
      </a> <a class="tm-footer__link" href="/berserk-mode-nope">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2023, </span> <span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div></div></div> <!-- --> <!-- --></div> <div class="vue-portal-target"></div></div>





<noscript>
<div>
<img alt="" src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;"/>
</div>
</noscript>


</body>
</html>
